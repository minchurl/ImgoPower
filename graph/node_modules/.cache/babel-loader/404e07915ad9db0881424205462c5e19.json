{"ast":null,"code":"import { Axes, Grid, renderGridLinesToCanvas, renderAxesToCanvas } from '@nivo/axes';\nimport { useAnnotations, Annotation, useComputedAnnotations, renderAnnotationsToCanvas } from '@nivo/annotations';\nimport { jsx, Fragment, jsxs } from 'react/jsx-runtime';\nimport { BoxLegendSvg, renderLegendToCanvas } from '@nivo/legends';\nimport { getPropertyAccessor, useTheme, Container, useMotionConfig, useDimensions, useValueFormatter, usePropertyAccessor, bindDefs, CartesianMarkers, SvgWrapper, getRelativeCursor, isCursorInRect, ResponsiveWrapper } from '@nivo/core';\nimport { useCallback, createElement, useState, useMemo, Fragment as Fragment$1, forwardRef, useRef, useEffect } from 'react';\nimport { computeScale } from '@nivo/scales';\nimport { stack, stackOffsetDiverging } from 'd3-shape';\nimport _uniqBy from 'lodash/uniqBy';\nimport { animated, to, useTransition } from '@react-spring/web';\nimport { useTooltip, BasicTooltip } from '@nivo/tooltip';\nimport { useInheritedColor, useOrdinalColorScale } from '@nivo/colors';\n\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}\n\nfunction _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n\n  var target = _objectWithoutPropertiesLoose(source, excluded);\n\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nfunction _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return _arrayLikeToArray(arr);\n}\n\nfunction _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return _arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen);\n}\n\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread();\n}\n\nfunction _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nfunction _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nfunction _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nfunction _slicedToArray(arr, i) {\n  return _arrayWithHoles(arr) || _iterableToArrayLimit(arr, i) || _unsupportedIterableToArray(arr, i) || _nonIterableRest();\n}\n\nvar BarAnnotations = function BarAnnotations(_ref) {\n  var bars = _ref.bars,\n      annotations = _ref.annotations;\n  var boundAnnotations = useAnnotations({\n    data: bars,\n    annotations: annotations,\n    getPosition: function getPosition(bar) {\n      return {\n        x: bar.x + bar.width / 2,\n        y: bar.y + bar.height / 2\n      };\n    },\n    getDimensions: function getDimensions(_ref2) {\n      var height = _ref2.height,\n          width = _ref2.width;\n      return {\n        width: width,\n        height: height,\n        size: Math.max(width, height)\n      };\n    }\n  });\n  return jsx(Fragment, {\n    children: boundAnnotations.map(function (annotation, i) {\n      return jsx(Annotation, _objectSpread2({}, annotation), i);\n    })\n  });\n};\n\nvar BarLegends = function BarLegends(_ref) {\n  var width = _ref.width,\n      height = _ref.height,\n      legends = _ref.legends,\n      data = _ref.data,\n      toggleSerie = _ref.toggleSerie;\n  return jsx(Fragment, {\n    children: legends.map(function (legend, i) {\n      var _legend$data;\n\n      return jsx(BoxLegendSvg, _objectSpread2(_objectSpread2({}, legend), {}, {\n        containerWidth: width,\n        containerHeight: height,\n        data: (_legend$data = legend.data) !== null && _legend$data !== void 0 ? _legend$data : data,\n        toggleSerie: legend.toggleSerie && legend.dataFrom === 'keys' ? toggleSerie : undefined\n      }), i);\n    })\n  });\n};\n\nvar getIndexScale = function getIndexScale(data, getIndex, padding, indexScale, size, axis) {\n  return computeScale(indexScale, {\n    all: data.map(getIndex),\n    min: 0,\n    max: 0\n  }, size, axis).padding(padding);\n};\n\nvar normalizeData = function normalizeData(data, keys) {\n  return data.map(function (item) {\n    return _objectSpread2(_objectSpread2({}, keys.reduce(function (acc, key) {\n      acc[key] = null;\n      return acc;\n    }, {})), item);\n  });\n};\n\nvar filterNullValues = function filterNullValues(data) {\n  return Object.keys(data).reduce(function (acc, key) {\n    if (data[key]) {\n      acc[key] = data[key];\n    }\n\n    return acc;\n  }, {});\n};\n\nvar coerceValue = function coerceValue(value) {\n  return [value, Number(value)];\n};\n\nvar gt = function gt(value, other) {\n  return value > other;\n};\n\nvar lt = function lt(value, other) {\n  return value < other;\n};\n\nvar flatten = function flatten(array) {\n  var _ref;\n\n  return (_ref = []).concat.apply(_ref, _toConsumableArray(array));\n};\n\nvar range = function range(start, end) {\n  return Array.from(' '.repeat(end - start), function (_, index) {\n    return start + index;\n  });\n};\n\nvar clampToZero = function clampToZero(value) {\n  return gt(value, 0) ? 0 : value;\n};\n\nvar zeroIfNotFinite = function zeroIfNotFinite(value) {\n  return isFinite(value) ? value : 0;\n};\n\nvar generateVerticalGroupedBars = function generateVerticalGroupedBars(_ref2, barWidth, reverse, yRef) {\n  var data = _ref2.data,\n      formatValue = _ref2.formatValue,\n      getColor = _ref2.getColor,\n      getIndex = _ref2.getIndex,\n      getTooltipLabel = _ref2.getTooltipLabel,\n      _ref2$innerPadding = _ref2.innerPadding,\n      innerPadding = _ref2$innerPadding === void 0 ? 0 : _ref2$innerPadding,\n      keys = _ref2.keys,\n      xScale = _ref2.xScale,\n      yScale = _ref2.yScale;\n  var compare = reverse ? lt : gt;\n\n  var getY = function getY(d) {\n    var _yScale;\n\n    return compare(d, 0) ? (_yScale = yScale(d)) !== null && _yScale !== void 0 ? _yScale : 0 : yRef;\n  };\n\n  var getHeight = function getHeight(d, y) {\n    var _yScale2;\n\n    return compare(d, 0) ? yRef - y : ((_yScale2 = yScale(d)) !== null && _yScale2 !== void 0 ? _yScale2 : 0) - yRef;\n  };\n\n  var cleanedData = data.map(filterNullValues);\n  var bars = flatten(keys.map(function (key, i) {\n    return range(0, xScale.domain().length).map(function (index) {\n      var _xScale;\n\n      var _coerceValue = coerceValue(data[index][key]),\n          _coerceValue2 = _slicedToArray(_coerceValue, 2),\n          rawValue = _coerceValue2[0],\n          value = _coerceValue2[1];\n\n      var indexValue = getIndex(data[index]);\n      var x = ((_xScale = xScale(indexValue)) !== null && _xScale !== void 0 ? _xScale : 0) + barWidth * i + innerPadding * i;\n      var y = getY(value);\n      var barHeight = getHeight(value, y);\n      var barData = {\n        id: key,\n        value: rawValue === null ? rawValue : value,\n        formattedValue: formatValue(value),\n        hidden: false,\n        index: index,\n        indexValue: indexValue,\n        data: cleanedData[index]\n      };\n      return {\n        key: \"\".concat(key, \".\").concat(barData.indexValue),\n        data: barData,\n        x: x,\n        y: y,\n        width: barWidth,\n        height: barHeight,\n        color: getColor(barData),\n        label: getTooltipLabel(barData)\n      };\n    });\n  }));\n  return bars;\n};\n\nvar generateHorizontalGroupedBars = function generateHorizontalGroupedBars(_ref3, barHeight, reverse, xRef) {\n  var data = _ref3.data,\n      formatValue = _ref3.formatValue,\n      getIndex = _ref3.getIndex,\n      getColor = _ref3.getColor,\n      getTooltipLabel = _ref3.getTooltipLabel,\n      keys = _ref3.keys,\n      _ref3$innerPadding = _ref3.innerPadding,\n      innerPadding = _ref3$innerPadding === void 0 ? 0 : _ref3$innerPadding,\n      xScale = _ref3.xScale,\n      yScale = _ref3.yScale;\n  var compare = reverse ? lt : gt;\n\n  var getX = function getX(d) {\n    var _xScale2;\n\n    return compare(d, 0) ? xRef : (_xScale2 = xScale(d)) !== null && _xScale2 !== void 0 ? _xScale2 : 0;\n  };\n\n  var getWidth = function getWidth(d, x) {\n    var _xScale3;\n\n    return compare(d, 0) ? ((_xScale3 = xScale(d)) !== null && _xScale3 !== void 0 ? _xScale3 : 0) - xRef : xRef - x;\n  };\n\n  var cleanedData = data.map(filterNullValues);\n  var bars = flatten(keys.map(function (key, i) {\n    return range(0, yScale.domain().length).map(function (index) {\n      var _yScale3;\n\n      var _coerceValue3 = coerceValue(data[index][key]),\n          _coerceValue4 = _slicedToArray(_coerceValue3, 2),\n          rawValue = _coerceValue4[0],\n          value = _coerceValue4[1];\n\n      var indexValue = getIndex(data[index]);\n      var x = getX(value);\n      var y = ((_yScale3 = yScale(indexValue)) !== null && _yScale3 !== void 0 ? _yScale3 : 0) + barHeight * i + innerPadding * i;\n      var barWidth = getWidth(value, x);\n      var barData = {\n        id: key,\n        value: rawValue === null ? rawValue : value,\n        formattedValue: formatValue(value),\n        hidden: false,\n        index: index,\n        indexValue: indexValue,\n        data: cleanedData[index]\n      };\n      return {\n        key: \"\".concat(key, \".\").concat(barData.indexValue),\n        data: barData,\n        x: x,\n        y: y,\n        width: barWidth,\n        height: barHeight,\n        color: getColor(barData),\n        label: getTooltipLabel(barData)\n      };\n    });\n  }));\n  return bars;\n};\n\nvar generateGroupedBars = function generateGroupedBars(_ref4) {\n  var _scale;\n\n  var layout = _ref4.layout,\n      minValue = _ref4.minValue,\n      maxValue = _ref4.maxValue,\n      reverse = _ref4.reverse,\n      width = _ref4.width,\n      height = _ref4.height,\n      _ref4$padding = _ref4.padding,\n      padding = _ref4$padding === void 0 ? 0 : _ref4$padding,\n      _ref4$innerPadding = _ref4.innerPadding,\n      innerPadding = _ref4$innerPadding === void 0 ? 0 : _ref4$innerPadding,\n      valueScale = _ref4.valueScale,\n      indexScaleConfig = _ref4.indexScale,\n      _ref4$hiddenIds = _ref4.hiddenIds,\n      hiddenIds = _ref4$hiddenIds === void 0 ? [] : _ref4$hiddenIds,\n      props = _objectWithoutProperties(_ref4, [\"layout\", \"minValue\", \"maxValue\", \"reverse\", \"width\", \"height\", \"padding\", \"innerPadding\", \"valueScale\", \"indexScale\", \"hiddenIds\"]);\n\n  var keys = props.keys.filter(function (key) {\n    return !hiddenIds.includes(key);\n  });\n  var data = normalizeData(props.data, keys);\n\n  var _ref5 = layout === 'vertical' ? ['y', 'x', width] : ['x', 'y', height],\n      _ref6 = _slicedToArray(_ref5, 3),\n      axis = _ref6[0],\n      otherAxis = _ref6[1],\n      size = _ref6[2];\n\n  var indexScale = getIndexScale(data, props.getIndex, padding, indexScaleConfig, size, otherAxis);\n\n  var scaleSpec = _objectSpread2({\n    max: maxValue,\n    min: minValue,\n    reverse: reverse\n  }, valueScale);\n\n  var clampMin = scaleSpec.min === 'auto' ? clampToZero : function (value) {\n    return value;\n  };\n  var values = data.reduce(function (acc, entry) {\n    return [].concat(_toConsumableArray(acc), _toConsumableArray(keys.map(function (k) {\n      return entry[k];\n    })));\n  }, []).filter(Boolean);\n  var min = clampMin(Math.min.apply(Math, _toConsumableArray(values)));\n  var max = zeroIfNotFinite(Math.max.apply(Math, _toConsumableArray(values)));\n  var scale = computeScale(scaleSpec, {\n    all: values,\n    min: min,\n    max: max\n  }, axis === 'x' ? width : height, axis);\n\n  var _ref7 = layout === 'vertical' ? [indexScale, scale] : [scale, indexScale],\n      _ref8 = _slicedToArray(_ref7, 2),\n      xScale = _ref8[0],\n      yScale = _ref8[1];\n\n  var bandwidth = (indexScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length;\n  var params = [_objectSpread2(_objectSpread2({}, props), {}, {\n    data: data,\n    keys: keys,\n    innerPadding: innerPadding,\n    xScale: xScale,\n    yScale: yScale\n  }), bandwidth, scaleSpec.reverse, (_scale = scale(0)) !== null && _scale !== void 0 ? _scale : 0];\n  var bars = bandwidth > 0 ? layout === 'vertical' ? generateVerticalGroupedBars.apply(void 0, params) : generateHorizontalGroupedBars.apply(void 0, params) : [];\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n\nvar flattenDeep = function flattenDeep(arr) {\n  var _ref;\n\n  return arr.some(Array.isArray) ? flattenDeep((_ref = []).concat.apply(_ref, _toConsumableArray(arr))) : arr;\n};\n\nvar filterZerosIfLog = function filterZerosIfLog(array, type) {\n  return type === 'log' ? array.filter(function (num) {\n    return num !== 0;\n  }) : array;\n};\n\nvar generateVerticalStackedBars = function generateVerticalStackedBars(_ref2, barWidth, reverse) {\n  var formatValue = _ref2.formatValue,\n      getColor = _ref2.getColor,\n      getIndex = _ref2.getIndex,\n      getTooltipLabel = _ref2.getTooltipLabel,\n      innerPadding = _ref2.innerPadding,\n      stackedData = _ref2.stackedData,\n      xScale = _ref2.xScale,\n      yScale = _ref2.yScale;\n\n  var getY = function getY(d) {\n    return yScale(d[reverse ? 0 : 1]);\n  };\n\n  var getHeight = function getHeight(d, y) {\n    var _yScale;\n\n    return ((_yScale = yScale(d[reverse ? 1 : 0])) !== null && _yScale !== void 0 ? _yScale : 0) - y;\n  };\n\n  var bars = flattenDeep(stackedData.map(function (stackedDataItem) {\n    return xScale.domain().map(function (index, i) {\n      var _xScale, _getY;\n\n      var d = stackedDataItem[i];\n      var x = (_xScale = xScale(getIndex(d.data))) !== null && _xScale !== void 0 ? _xScale : 0;\n      var y = ((_getY = getY(d)) !== null && _getY !== void 0 ? _getY : 0) + innerPadding * 0.5;\n      var barHeight = getHeight(d, y) - innerPadding;\n\n      var _coerceValue = coerceValue(d.data[stackedDataItem.key]),\n          _coerceValue2 = _slicedToArray(_coerceValue, 2),\n          rawValue = _coerceValue2[0],\n          value = _coerceValue2[1];\n\n      var barData = {\n        id: stackedDataItem.key,\n        value: rawValue === null ? rawValue : value,\n        formattedValue: formatValue(value),\n        hidden: false,\n        index: i,\n        indexValue: index,\n        data: filterNullValues(d.data)\n      };\n      return {\n        key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n        data: barData,\n        x: x,\n        y: y,\n        width: barWidth,\n        height: barHeight,\n        color: getColor(barData),\n        label: getTooltipLabel(barData)\n      };\n    });\n  }));\n  return bars;\n};\n\nvar generateHorizontalStackedBars = function generateHorizontalStackedBars(_ref3, barHeight, reverse) {\n  var formatValue = _ref3.formatValue,\n      getColor = _ref3.getColor,\n      getIndex = _ref3.getIndex,\n      getTooltipLabel = _ref3.getTooltipLabel,\n      innerPadding = _ref3.innerPadding,\n      stackedData = _ref3.stackedData,\n      xScale = _ref3.xScale,\n      yScale = _ref3.yScale;\n\n  var getX = function getX(d) {\n    return xScale(d[reverse ? 1 : 0]);\n  };\n\n  var getWidth = function getWidth(d, x) {\n    var _xScale2;\n\n    return ((_xScale2 = xScale(d[reverse ? 0 : 1])) !== null && _xScale2 !== void 0 ? _xScale2 : 0) - x;\n  };\n\n  var bars = flattenDeep(stackedData.map(function (stackedDataItem) {\n    return yScale.domain().map(function (index, i) {\n      var _yScale2, _getX;\n\n      var d = stackedDataItem[i];\n      var y = (_yScale2 = yScale(getIndex(d.data))) !== null && _yScale2 !== void 0 ? _yScale2 : 0;\n      var x = ((_getX = getX(d)) !== null && _getX !== void 0 ? _getX : 0) + innerPadding * 0.5;\n      var barWidth = getWidth(d, x) - innerPadding;\n\n      var _coerceValue3 = coerceValue(d.data[stackedDataItem.key]),\n          _coerceValue4 = _slicedToArray(_coerceValue3, 2),\n          rawValue = _coerceValue4[0],\n          value = _coerceValue4[1];\n\n      var barData = {\n        id: stackedDataItem.key,\n        value: rawValue === null ? rawValue : value,\n        formattedValue: formatValue(value),\n        hidden: false,\n        index: i,\n        indexValue: index,\n        data: filterNullValues(d.data)\n      };\n      return {\n        key: \"\".concat(stackedDataItem.key, \".\").concat(index),\n        data: barData,\n        x: x,\n        y: y,\n        width: barWidth,\n        height: barHeight,\n        color: getColor(barData),\n        label: getTooltipLabel(barData)\n      };\n    });\n  }));\n  return bars;\n};\n\nvar generateStackedBars = function generateStackedBars(_ref4) {\n  var data = _ref4.data,\n      layout = _ref4.layout,\n      minValue = _ref4.minValue,\n      maxValue = _ref4.maxValue,\n      reverse = _ref4.reverse,\n      width = _ref4.width,\n      height = _ref4.height,\n      _ref4$padding = _ref4.padding,\n      padding = _ref4$padding === void 0 ? 0 : _ref4$padding,\n      valueScale = _ref4.valueScale,\n      indexScaleConfig = _ref4.indexScale,\n      _ref4$hiddenIds = _ref4.hiddenIds,\n      hiddenIds = _ref4$hiddenIds === void 0 ? [] : _ref4$hiddenIds,\n      props = _objectWithoutProperties(_ref4, [\"data\", \"layout\", \"minValue\", \"maxValue\", \"reverse\", \"width\", \"height\", \"padding\", \"valueScale\", \"indexScale\", \"hiddenIds\"]);\n\n  var keys = props.keys.filter(function (key) {\n    return !hiddenIds.includes(key);\n  });\n  var stackedData = stack().keys(keys).offset(stackOffsetDiverging)(normalizeData(data, keys));\n\n  var _ref5 = layout === 'vertical' ? ['y', 'x', width] : ['x', 'y', height],\n      _ref6 = _slicedToArray(_ref5, 3),\n      axis = _ref6[0],\n      otherAxis = _ref6[1],\n      size = _ref6[2];\n\n  var indexScale = getIndexScale(data, props.getIndex, padding, indexScaleConfig, size, otherAxis);\n\n  var scaleSpec = _objectSpread2({\n    max: maxValue,\n    min: minValue,\n    reverse: reverse\n  }, valueScale);\n\n  var values = filterZerosIfLog(flattenDeep(stackedData), valueScale.type);\n  var min = Math.min.apply(Math, _toConsumableArray(values));\n  var max = Math.max.apply(Math, _toConsumableArray(values));\n  var scale = computeScale(scaleSpec, {\n    all: values,\n    min: min,\n    max: max\n  }, axis === 'x' ? width : height, axis);\n\n  var _ref7 = layout === 'vertical' ? [indexScale, scale] : [scale, indexScale],\n      _ref8 = _slicedToArray(_ref7, 2),\n      xScale = _ref8[0],\n      yScale = _ref8[1];\n\n  var innerPadding = props.innerPadding > 0 ? props.innerPadding : 0;\n  var bandwidth = indexScale.bandwidth();\n  var params = [_objectSpread2(_objectSpread2({}, props), {}, {\n    innerPadding: innerPadding,\n    stackedData: stackedData,\n    xScale: xScale,\n    yScale: yScale\n  }), bandwidth, scaleSpec.reverse];\n  var bars = bandwidth > 0 ? layout === 'vertical' ? generateVerticalStackedBars.apply(void 0, params) : generateHorizontalStackedBars.apply(void 0, params) : [];\n  return {\n    xScale: xScale,\n    yScale: yScale,\n    bars: bars\n  };\n};\n\nvar getLegendDataForKeys = function getLegendDataForKeys(bars, layout, direction, groupMode, reverse, getLegendLabel) {\n  var data = _uniqBy(bars.map(function (bar) {\n    var _bar$color;\n\n    return {\n      id: bar.data.id,\n      label: getLegendLabel(bar.data),\n      hidden: bar.data.hidden,\n      color: (_bar$color = bar.color) !== null && _bar$color !== void 0 ? _bar$color : '#000'\n    };\n  }), function (_ref) {\n    var id = _ref.id;\n    return id;\n  });\n\n  if (layout === 'vertical' && groupMode === 'stacked' && direction === 'column' && reverse !== true || layout === 'horizontal' && groupMode === 'stacked' && reverse === true) {\n    data.reverse();\n  }\n\n  return data;\n};\n\nvar getLegendDataForIndexes = function getLegendDataForIndexes(bars, layout, getLegendLabel) {\n  var data = _uniqBy(bars.map(function (bar) {\n    var _bar$data$indexValue, _bar$color2;\n\n    return {\n      id: (_bar$data$indexValue = bar.data.indexValue) !== null && _bar$data$indexValue !== void 0 ? _bar$data$indexValue : '',\n      label: getLegendLabel(bar.data),\n      hidden: bar.data.hidden,\n      color: (_bar$color2 = bar.color) !== null && _bar$color2 !== void 0 ? _bar$color2 : '#000'\n    };\n  }), function (_ref2) {\n    var id = _ref2.id;\n    return id;\n  });\n\n  if (layout === 'horizontal') {\n    data.reverse();\n  }\n\n  return data;\n};\n\nvar getLegendData = function getLegendData(_ref3) {\n  var bars = _ref3.bars,\n      direction = _ref3.direction,\n      from = _ref3.from,\n      groupMode = _ref3.groupMode,\n      layout = _ref3.layout,\n      legendLabel = _ref3.legendLabel,\n      reverse = _ref3.reverse;\n  var getLegendLabel = getPropertyAccessor(legendLabel !== null && legendLabel !== void 0 ? legendLabel : from === 'indexes' ? 'indexValue' : 'id');\n\n  if (from === 'indexes') {\n    return getLegendDataForIndexes(bars, layout, getLegendLabel);\n  }\n\n  return getLegendDataForKeys(bars, layout, direction, groupMode, reverse, getLegendLabel);\n};\n\nvar BarItem = function BarItem(_ref) {\n  var _data$fill;\n\n  var _ref$bar = _ref.bar,\n      data = _ref$bar.data,\n      bar = _objectWithoutProperties(_ref$bar, [\"data\"]),\n      _ref$style = _ref.style,\n      borderColor = _ref$style.borderColor,\n      color = _ref$style.color,\n      height = _ref$style.height,\n      labelColor = _ref$style.labelColor,\n      labelOpacity = _ref$style.labelOpacity,\n      labelX = _ref$style.labelX,\n      labelY = _ref$style.labelY,\n      transform = _ref$style.transform,\n      width = _ref$style.width,\n      borderRadius = _ref.borderRadius,\n      borderWidth = _ref.borderWidth,\n      label = _ref.label,\n      shouldRenderLabel = _ref.shouldRenderLabel,\n      isInteractive = _ref.isInteractive,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      tooltip = _ref.tooltip;\n\n  var theme = useTheme();\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var handleClick = useCallback(function (event) {\n    onClick === null || onClick === void 0 ? void 0 : onClick(_objectSpread2({\n      color: bar.color\n    }, data), event);\n  }, [bar, data, onClick]);\n  var handleTooltip = useCallback(function (event) {\n    return showTooltipFromEvent(createElement(tooltip, _objectSpread2(_objectSpread2({}, bar), data)), event);\n  }, [bar, data, showTooltipFromEvent, tooltip]);\n  var handleMouseEnter = useCallback(function (event) {\n    onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(data, event);\n    showTooltipFromEvent(createElement(tooltip, _objectSpread2(_objectSpread2({}, bar), data)), event);\n  }, [bar, data, onMouseEnter, showTooltipFromEvent, tooltip]);\n  var handleMouseLeave = useCallback(function (event) {\n    onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(data, event);\n    hideTooltip();\n  }, [data, hideTooltip, onMouseLeave]);\n  return jsxs(animated.g, {\n    transform: transform,\n    children: [jsx(animated.rect, {\n      width: to(width, function (value) {\n        return Math.max(value, 0);\n      }),\n      height: to(height, function (value) {\n        return Math.max(value, 0);\n      }),\n      rx: borderRadius,\n      ry: borderRadius,\n      fill: (_data$fill = data.fill) !== null && _data$fill !== void 0 ? _data$fill : color,\n      strokeWidth: borderWidth,\n      stroke: borderColor,\n      onMouseEnter: isInteractive ? handleMouseEnter : undefined,\n      onMouseMove: isInteractive ? handleTooltip : undefined,\n      onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n      onClick: isInteractive ? handleClick : undefined\n    }), shouldRenderLabel && jsx(animated.text, {\n      x: labelX,\n      y: labelY,\n      textAnchor: \"middle\",\n      dominantBaseline: \"central\",\n      fillOpacity: labelOpacity,\n      style: _objectSpread2(_objectSpread2({}, theme.labels.text), {}, {\n        pointerEvents: 'none',\n        fill: labelColor\n      }),\n      children: label\n    })]\n  });\n};\n\nvar BarTooltip = function BarTooltip(_ref) {\n  var color = _ref.color,\n      label = _ref.label,\n      data = _objectWithoutProperties(_ref, [\"color\", \"label\"]);\n\n  return jsx(BasicTooltip, {\n    id: label,\n    value: data.formattedValue,\n    enableChip: true,\n    color: color\n  });\n};\n\nvar _window$devicePixelRa;\n\nvar defaultProps = {\n  indexBy: 'id',\n  keys: ['value'],\n  groupMode: 'stacked',\n  layout: 'vertical',\n  reverse: false,\n  minValue: 'auto',\n  maxValue: 'auto',\n  valueScale: {\n    type: 'linear'\n  },\n  indexScale: {\n    type: 'band',\n    round: true\n  },\n  padding: 0.1,\n  innerPadding: 0,\n  axisBottom: {},\n  axisLeft: {},\n  enableGridX: false,\n  enableGridY: true,\n  enableLabel: true,\n  label: 'formattedValue',\n  labelSkipWidth: 0,\n  labelSkipHeight: 0,\n  labelTextColor: {\n    from: 'theme',\n    theme: 'labels.text.fill'\n  },\n  colorBy: 'id',\n  colors: {\n    scheme: 'nivo'\n  },\n  borderRadius: 0,\n  borderWidth: 0,\n  borderColor: {\n    from: 'color'\n  },\n  isInteractive: true,\n  tooltip: BarTooltip,\n  tooltipLabel: function tooltipLabel(datum) {\n    return \"\".concat(datum.id, \" - \").concat(datum.indexValue);\n  },\n  legends: [],\n  annotations: []\n};\n\nvar svgDefaultProps = _objectSpread2(_objectSpread2({}, defaultProps), {}, {\n  layers: ['grid', 'axes', 'bars', 'markers', 'legends', 'annotations'],\n  barComponent: BarItem,\n  defs: [],\n  fill: [],\n  animate: true,\n  motionConfig: 'default',\n  role: 'img'\n});\n\nvar canvasDefaultProps = _objectSpread2(_objectSpread2({}, defaultProps), {}, {\n  layers: ['grid', 'axes', 'bars', 'legends', 'annotations'],\n  pixelRatio: typeof window !== 'undefined' ? (_window$devicePixelRa = window.devicePixelRatio) !== null && _window$devicePixelRa !== void 0 ? _window$devicePixelRa : 1 : 1\n});\n\nvar InnerBar = function InnerBar(_ref) {\n  var data = _ref.data,\n      _ref$indexBy = _ref.indexBy,\n      indexBy = _ref$indexBy === void 0 ? svgDefaultProps.indexBy : _ref$indexBy,\n      _ref$keys = _ref.keys,\n      keys = _ref$keys === void 0 ? svgDefaultProps.keys : _ref$keys,\n      partialMargin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      _ref$groupMode = _ref.groupMode,\n      groupMode = _ref$groupMode === void 0 ? svgDefaultProps.groupMode : _ref$groupMode,\n      _ref$layout = _ref.layout,\n      layout = _ref$layout === void 0 ? svgDefaultProps.layout : _ref$layout,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? svgDefaultProps.reverse : _ref$reverse,\n      _ref$minValue = _ref.minValue,\n      minValue = _ref$minValue === void 0 ? svgDefaultProps.minValue : _ref$minValue,\n      _ref$maxValue = _ref.maxValue,\n      maxValue = _ref$maxValue === void 0 ? svgDefaultProps.maxValue : _ref$maxValue,\n      _ref$valueScale = _ref.valueScale,\n      valueScale = _ref$valueScale === void 0 ? svgDefaultProps.valueScale : _ref$valueScale,\n      _ref$indexScale = _ref.indexScale,\n      indexScale = _ref$indexScale === void 0 ? svgDefaultProps.indexScale : _ref$indexScale,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? svgDefaultProps.padding : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === void 0 ? svgDefaultProps.innerPadding : _ref$innerPadding,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      _ref$axisBottom = _ref.axisBottom,\n      axisBottom = _ref$axisBottom === void 0 ? svgDefaultProps.axisBottom : _ref$axisBottom,\n      _ref$axisLeft = _ref.axisLeft,\n      axisLeft = _ref$axisLeft === void 0 ? svgDefaultProps.axisLeft : _ref$axisLeft,\n      _ref$enableGridX = _ref.enableGridX,\n      enableGridX = _ref$enableGridX === void 0 ? svgDefaultProps.enableGridX : _ref$enableGridX,\n      _ref$enableGridY = _ref.enableGridY,\n      enableGridY = _ref$enableGridY === void 0 ? svgDefaultProps.enableGridY : _ref$enableGridY,\n      gridXValues = _ref.gridXValues,\n      gridYValues = _ref.gridYValues,\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === void 0 ? svgDefaultProps.layers : _ref$layers,\n      _ref$barComponent = _ref.barComponent,\n      barComponent = _ref$barComponent === void 0 ? svgDefaultProps.barComponent : _ref$barComponent,\n      _ref$enableLabel = _ref.enableLabel,\n      enableLabel = _ref$enableLabel === void 0 ? svgDefaultProps.enableLabel : _ref$enableLabel,\n      _ref$label = _ref.label,\n      label = _ref$label === void 0 ? svgDefaultProps.label : _ref$label,\n      _ref$labelSkipWidth = _ref.labelSkipWidth,\n      labelSkipWidth = _ref$labelSkipWidth === void 0 ? svgDefaultProps.labelSkipWidth : _ref$labelSkipWidth,\n      _ref$labelSkipHeight = _ref.labelSkipHeight,\n      labelSkipHeight = _ref$labelSkipHeight === void 0 ? svgDefaultProps.labelSkipHeight : _ref$labelSkipHeight,\n      _ref$labelTextColor = _ref.labelTextColor,\n      labelTextColor = _ref$labelTextColor === void 0 ? svgDefaultProps.labelTextColor : _ref$labelTextColor,\n      markers = _ref.markers,\n      _ref$colorBy = _ref.colorBy,\n      colorBy = _ref$colorBy === void 0 ? svgDefaultProps.colorBy : _ref$colorBy,\n      _ref$colors = _ref.colors,\n      colors = _ref$colors === void 0 ? svgDefaultProps.colors : _ref$colors,\n      _ref$defs = _ref.defs,\n      defs = _ref$defs === void 0 ? svgDefaultProps.defs : _ref$defs,\n      _ref$fill = _ref.fill,\n      fill = _ref$fill === void 0 ? svgDefaultProps.fill : _ref$fill,\n      _ref$borderRadius = _ref.borderRadius,\n      borderRadius = _ref$borderRadius === void 0 ? svgDefaultProps.borderRadius : _ref$borderRadius,\n      _ref$borderWidth = _ref.borderWidth,\n      borderWidth = _ref$borderWidth === void 0 ? svgDefaultProps.borderWidth : _ref$borderWidth,\n      _ref$borderColor = _ref.borderColor,\n      borderColor = _ref$borderColor === void 0 ? svgDefaultProps.borderColor : _ref$borderColor,\n      _ref$annotations = _ref.annotations,\n      annotations = _ref$annotations === void 0 ? svgDefaultProps.annotations : _ref$annotations,\n      legendLabel = _ref.legendLabel,\n      _ref$tooltipLabel = _ref.tooltipLabel,\n      tooltipLabel = _ref$tooltipLabel === void 0 ? svgDefaultProps.tooltipLabel : _ref$tooltipLabel,\n      valueFormat = _ref.valueFormat,\n      _ref$isInteractive = _ref.isInteractive,\n      isInteractive = _ref$isInteractive === void 0 ? svgDefaultProps.isInteractive : _ref$isInteractive,\n      _ref$tooltip = _ref.tooltip,\n      tooltip = _ref$tooltip === void 0 ? svgDefaultProps.tooltip : _ref$tooltip,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      _ref$legends = _ref.legends,\n      legends = _ref$legends === void 0 ? svgDefaultProps.legends : _ref$legends,\n      _ref$role = _ref.role,\n      role = _ref$role === void 0 ? svgDefaultProps.role : _ref$role,\n      initialHiddenIds = _ref.initialHiddenIds;\n\n  var _useState = useState(initialHiddenIds !== null && initialHiddenIds !== void 0 ? initialHiddenIds : []),\n      _useState2 = _slicedToArray(_useState, 2),\n      hiddenIds = _useState2[0],\n      setHiddenIds = _useState2[1];\n\n  var toggleSerie = useCallback(function (id) {\n    setHiddenIds(function (state) {\n      return state.indexOf(id) > -1 ? state.filter(function (item) {\n        return item !== id;\n      }) : [].concat(_toConsumableArray(state), [id]);\n    });\n  }, []);\n  var theme = useTheme();\n\n  var _useMotionConfig = useMotionConfig(),\n      animate = _useMotionConfig.animate,\n      springConfig = _useMotionConfig.config;\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight,\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight;\n\n  var formatValue = useValueFormatter(valueFormat);\n  var getBorderColor = useInheritedColor(borderColor, theme);\n  var getColor = useOrdinalColorScale(colors, colorBy);\n  var getIndex = usePropertyAccessor(indexBy);\n  var getLabel = usePropertyAccessor(label);\n  var getLabelColor = useInheritedColor(labelTextColor, theme);\n  var getTooltipLabel = usePropertyAccessor(tooltipLabel);\n  var generateBars = groupMode === 'grouped' ? generateGroupedBars : generateStackedBars;\n  var result = generateBars({\n    layout: layout,\n    reverse: reverse,\n    data: data,\n    getIndex: getIndex,\n    keys: keys,\n    minValue: minValue,\n    maxValue: maxValue,\n    width: innerWidth,\n    height: innerHeight,\n    getColor: getColor,\n    padding: padding,\n    innerPadding: innerPadding,\n    valueScale: valueScale,\n    indexScale: indexScale,\n    hiddenIds: hiddenIds,\n    formatValue: formatValue,\n    getTooltipLabel: getTooltipLabel\n  });\n  var legendData = useMemo(function () {\n    return keys.map(function (key) {\n      var bar = result.bars.find(function (bar) {\n        return bar.data.id === key;\n      });\n      return _objectSpread2(_objectSpread2({}, bar), {}, {\n        data: _objectSpread2(_objectSpread2({\n          id: key\n        }, bar === null || bar === void 0 ? void 0 : bar.data), {}, {\n          hidden: hiddenIds.includes(key)\n        })\n      });\n    });\n  }, [hiddenIds, keys, result.bars]);\n  var barsWithValue = useMemo(function () {\n    return result.bars.filter(function (bar) {\n      return bar.data.value !== null;\n    });\n  }, [result.bars]);\n  var transition = useTransition(barsWithValue, {\n    keys: function keys(bar) {\n      return bar.key;\n    },\n    from: function from(bar) {\n      return _objectSpread2({\n        borderColor: getBorderColor(bar),\n        color: bar.color,\n        height: 0,\n        labelColor: getLabelColor(bar),\n        labelOpacity: 0,\n        labelX: bar.width / 2,\n        labelY: bar.height / 2,\n        transform: \"translate(\".concat(bar.x, \", \").concat(bar.y + bar.height, \")\"),\n        width: bar.width\n      }, layout === 'vertical' ? {} : {\n        height: bar.height,\n        transform: \"translate(\".concat(bar.x, \", \").concat(bar.y, \")\"),\n        width: 0\n      });\n    },\n    enter: function enter(bar) {\n      return {\n        borderColor: getBorderColor(bar),\n        color: bar.color,\n        height: bar.height,\n        labelColor: getLabelColor(bar),\n        labelOpacity: 1,\n        labelX: bar.width / 2,\n        labelY: bar.height / 2,\n        transform: \"translate(\".concat(bar.x, \", \").concat(bar.y, \")\"),\n        width: bar.width\n      };\n    },\n    update: function update(bar) {\n      return {\n        borderColor: getBorderColor(bar),\n        color: bar.color,\n        height: bar.height,\n        labelColor: getLabelColor(bar),\n        labelOpacity: 1,\n        labelX: bar.width / 2,\n        labelY: bar.height / 2,\n        transform: \"translate(\".concat(bar.x, \", \").concat(bar.y, \")\"),\n        width: bar.width\n      };\n    },\n    leave: function leave(bar) {\n      return _objectSpread2({\n        borderColor: getBorderColor(bar),\n        color: bar.color,\n        height: 0,\n        labelColor: getLabelColor(bar),\n        labelOpacity: 0,\n        labelX: bar.width / 2,\n        labelY: 0,\n        transform: \"translate(\".concat(bar.x, \", \").concat(bar.y + bar.height, \")\"),\n        width: bar.width\n      }, layout === 'vertical' ? {} : {\n        labelX: 0,\n        labelY: bar.height / 2,\n        height: bar.height,\n        transform: \"translate(\".concat(bar.x, \", \").concat(bar.y, \")\"),\n        width: 0\n      });\n    },\n    config: springConfig,\n    immediate: !animate\n  });\n  var shouldRenderLabel = useCallback(function (_ref2) {\n    var width = _ref2.width,\n        height = _ref2.height;\n    if (!enableLabel) return false;\n    if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\n    if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\n    return true;\n  }, [enableLabel, labelSkipHeight, labelSkipWidth]);\n  var commonProps = useMemo(function () {\n    return {\n      borderRadius: borderRadius,\n      borderWidth: borderWidth,\n      enableLabel: enableLabel,\n      isInteractive: isInteractive,\n      labelSkipWidth: labelSkipWidth,\n      labelSkipHeight: labelSkipHeight,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      getTooltipLabel: getTooltipLabel,\n      tooltip: tooltip\n    };\n  }, [borderRadius, borderWidth, enableLabel, getTooltipLabel, isInteractive, labelSkipHeight, labelSkipWidth, onClick, onMouseEnter, onMouseLeave, tooltip]);\n  var boundDefs = bindDefs(defs, result.bars, fill, {\n    dataKey: 'data',\n    targetKey: 'data.fill'\n  });\n  var layerById = {\n    annotations: null,\n    axes: null,\n    bars: null,\n    grid: null,\n    legends: null,\n    markers: null\n  };\n\n  if (layers.includes('annotations')) {\n    layerById.annotations = jsx(BarAnnotations, {\n      bars: result.bars,\n      annotations: annotations\n    }, \"annotations\");\n  }\n\n  if (layers.includes('axes')) {\n    layerById.axes = jsx(Axes, {\n      xScale: result.xScale,\n      yScale: result.yScale,\n      width: innerWidth,\n      height: innerHeight,\n      top: axisTop,\n      right: axisRight,\n      bottom: axisBottom,\n      left: axisLeft\n    }, \"axes\");\n  }\n\n  if (layers.includes('bars')) {\n    layerById.bars = jsx(Fragment$1, {\n      children: transition(function (style, bar) {\n        return createElement(barComponent, _objectSpread2(_objectSpread2({}, commonProps), {}, {\n          bar: bar,\n          style: style,\n          shouldRenderLabel: shouldRenderLabel(bar),\n          label: getLabel(bar.data)\n        }));\n      })\n    }, \"bars\");\n  }\n\n  if (layers.includes('grid')) {\n    layerById.grid = jsx(Grid, {\n      width: innerWidth,\n      height: innerHeight,\n      xScale: enableGridX ? result.xScale : null,\n      yScale: enableGridY ? result.yScale : null,\n      xValues: gridXValues,\n      yValues: gridYValues\n    }, \"grid\");\n  }\n\n  if (layers.includes('legends')) {\n    var _ref3;\n\n    var _data = (_ref3 = []).concat.apply(_ref3, _toConsumableArray(legends.map(function (legend) {\n      return getLegendData({\n        bars: legend.dataFrom === 'keys' ? legendData : result.bars,\n        direction: legend.direction,\n        from: legend.dataFrom,\n        groupMode: groupMode,\n        layout: layout,\n        legendLabel: legendLabel,\n        reverse: reverse\n      });\n    })));\n\n    layerById.legends = jsx(BarLegends, {\n      width: innerWidth,\n      height: innerHeight,\n      data: _data,\n      legends: legends,\n      toggleSerie: toggleSerie\n    }, \"legends\");\n  }\n\n  if (layers.includes('markers')) {\n    layerById.markers = jsx(CartesianMarkers, {\n      markers: markers,\n      width: innerWidth,\n      height: innerHeight,\n      xScale: result.xScale,\n      yScale: result.yScale,\n      theme: theme\n    }, \"markers\");\n  }\n\n  var layerContext = useMemo(function () {\n    return _objectSpread2(_objectSpread2({}, commonProps), {}, {\n      margin: margin,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      width: width,\n      height: height\n    }, result);\n  }, [commonProps, height, innerHeight, innerWidth, margin, result, width]);\n  return jsx(SvgWrapper, {\n    width: outerWidth,\n    height: outerHeight,\n    margin: margin,\n    defs: boundDefs,\n    role: role,\n    children: layers.map(function (layer, i) {\n      var _layerById$layer;\n\n      if (typeof layer === 'function') {\n        return jsx(Fragment$1, {\n          children: createElement(layer, layerContext)\n        }, i);\n      }\n\n      return (_layerById$layer = layerById === null || layerById === void 0 ? void 0 : layerById[layer]) !== null && _layerById$layer !== void 0 ? _layerById$layer : null;\n    })\n  });\n};\n\nvar Bar = function Bar(_ref4) {\n  var _ref4$isInteractive = _ref4.isInteractive,\n      isInteractive = _ref4$isInteractive === void 0 ? svgDefaultProps.isInteractive : _ref4$isInteractive,\n      _ref4$animate = _ref4.animate,\n      animate = _ref4$animate === void 0 ? svgDefaultProps.animate : _ref4$animate,\n      _ref4$motionConfig = _ref4.motionConfig,\n      motionConfig = _ref4$motionConfig === void 0 ? svgDefaultProps.motionConfig : _ref4$motionConfig,\n      theme = _ref4.theme,\n      renderWrapper = _ref4.renderWrapper,\n      otherProps = _objectWithoutProperties(_ref4, [\"isInteractive\", \"animate\", \"motionConfig\", \"theme\", \"renderWrapper\"]);\n\n  return jsx(Container, {\n    animate: animate,\n    isInteractive: isInteractive,\n    motionConfig: motionConfig,\n    renderWrapper: renderWrapper,\n    theme: theme,\n    children: jsx(InnerBar, _objectSpread2({\n      isInteractive: isInteractive\n    }, otherProps))\n  });\n};\n\nvar findBarUnderCursor = function findBarUnderCursor(nodes, margin, x, y) {\n  return nodes.find(function (node) {\n    return isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y);\n  });\n};\n\nvar isNumber = function isNumber(value) {\n  return typeof value === 'number';\n};\n\nvar InnerBarCanvas = function InnerBarCanvas(_ref) {\n  var data = _ref.data,\n      _ref$indexBy = _ref.indexBy,\n      indexBy = _ref$indexBy === void 0 ? canvasDefaultProps.indexBy : _ref$indexBy,\n      _ref$keys = _ref.keys,\n      keys = _ref$keys === void 0 ? canvasDefaultProps.keys : _ref$keys,\n      partialMargin = _ref.margin,\n      width = _ref.width,\n      height = _ref.height,\n      _ref$groupMode = _ref.groupMode,\n      groupMode = _ref$groupMode === void 0 ? canvasDefaultProps.groupMode : _ref$groupMode,\n      _ref$layout = _ref.layout,\n      layout = _ref$layout === void 0 ? canvasDefaultProps.layout : _ref$layout,\n      _ref$reverse = _ref.reverse,\n      reverse = _ref$reverse === void 0 ? canvasDefaultProps.reverse : _ref$reverse,\n      _ref$minValue = _ref.minValue,\n      minValue = _ref$minValue === void 0 ? canvasDefaultProps.minValue : _ref$minValue,\n      _ref$maxValue = _ref.maxValue,\n      maxValue = _ref$maxValue === void 0 ? canvasDefaultProps.maxValue : _ref$maxValue,\n      _ref$valueScale = _ref.valueScale,\n      valueScale = _ref$valueScale === void 0 ? canvasDefaultProps.valueScale : _ref$valueScale,\n      _ref$indexScale = _ref.indexScale,\n      indexScale = _ref$indexScale === void 0 ? canvasDefaultProps.indexScale : _ref$indexScale,\n      _ref$padding = _ref.padding,\n      padding = _ref$padding === void 0 ? canvasDefaultProps.padding : _ref$padding,\n      _ref$innerPadding = _ref.innerPadding,\n      innerPadding = _ref$innerPadding === void 0 ? canvasDefaultProps.innerPadding : _ref$innerPadding,\n      axisTop = _ref.axisTop,\n      axisRight = _ref.axisRight,\n      _ref$axisBottom = _ref.axisBottom,\n      axisBottom = _ref$axisBottom === void 0 ? canvasDefaultProps.axisBottom : _ref$axisBottom,\n      _ref$axisLeft = _ref.axisLeft,\n      axisLeft = _ref$axisLeft === void 0 ? canvasDefaultProps.axisLeft : _ref$axisLeft,\n      _ref$enableGridX = _ref.enableGridX,\n      enableGridX = _ref$enableGridX === void 0 ? canvasDefaultProps.enableGridX : _ref$enableGridX,\n      _ref$enableGridY = _ref.enableGridY,\n      enableGridY = _ref$enableGridY === void 0 ? canvasDefaultProps.enableGridY : _ref$enableGridY,\n      gridXValues = _ref.gridXValues,\n      gridYValues = _ref.gridYValues,\n      _ref$layers = _ref.layers,\n      layers = _ref$layers === void 0 ? canvasDefaultProps.layers : _ref$layers,\n      _ref$renderBar = _ref.renderBar,\n      renderBar = _ref$renderBar === void 0 ? function (ctx, _ref2) {\n    var _ref2$bar = _ref2.bar,\n        color = _ref2$bar.color,\n        height = _ref2$bar.height,\n        width = _ref2$bar.width,\n        x = _ref2$bar.x,\n        y = _ref2$bar.y,\n        borderColor = _ref2.borderColor,\n        borderRadius = _ref2.borderRadius,\n        borderWidth = _ref2.borderWidth,\n        label = _ref2.label,\n        labelColor = _ref2.labelColor,\n        shouldRenderLabel = _ref2.shouldRenderLabel;\n    ctx.fillStyle = color;\n\n    if (borderWidth > 0) {\n      ctx.strokeStyle = borderColor;\n      ctx.lineWidth = borderWidth;\n    }\n\n    ctx.beginPath();\n\n    if (borderRadius > 0) {\n      var radius = Math.min(borderRadius, height);\n      ctx.moveTo(x + radius, y);\n      ctx.lineTo(x + width - radius, y);\n      ctx.quadraticCurveTo(x + width, y, x + width, y + radius);\n      ctx.lineTo(x + width, y + height - radius);\n      ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height);\n      ctx.lineTo(x + radius, y + height);\n      ctx.quadraticCurveTo(x, y + height, x, y + height - radius);\n      ctx.lineTo(x, y + radius);\n      ctx.quadraticCurveTo(x, y, x + radius, y);\n      ctx.closePath();\n    } else {\n      ctx.rect(x, y, width, height);\n    }\n\n    ctx.fill();\n\n    if (borderWidth > 0) {\n      ctx.stroke();\n    }\n\n    if (shouldRenderLabel) {\n      ctx.textBaseline = 'middle';\n      ctx.textAlign = 'center';\n      ctx.fillStyle = labelColor;\n      ctx.fillText(label, x + width / 2, y + height / 2);\n    }\n  } : _ref$renderBar,\n      _ref$enableLabel = _ref.enableLabel,\n      enableLabel = _ref$enableLabel === void 0 ? canvasDefaultProps.enableLabel : _ref$enableLabel,\n      _ref$label = _ref.label,\n      label = _ref$label === void 0 ? canvasDefaultProps.label : _ref$label,\n      _ref$labelSkipWidth = _ref.labelSkipWidth,\n      labelSkipWidth = _ref$labelSkipWidth === void 0 ? canvasDefaultProps.labelSkipWidth : _ref$labelSkipWidth,\n      _ref$labelSkipHeight = _ref.labelSkipHeight,\n      labelSkipHeight = _ref$labelSkipHeight === void 0 ? canvasDefaultProps.labelSkipHeight : _ref$labelSkipHeight,\n      _ref$labelTextColor = _ref.labelTextColor,\n      labelTextColor = _ref$labelTextColor === void 0 ? canvasDefaultProps.labelTextColor : _ref$labelTextColor,\n      _ref$colorBy = _ref.colorBy,\n      colorBy = _ref$colorBy === void 0 ? canvasDefaultProps.colorBy : _ref$colorBy,\n      _ref$colors = _ref.colors,\n      colors = _ref$colors === void 0 ? canvasDefaultProps.colors : _ref$colors,\n      _ref$borderRadius = _ref.borderRadius,\n      borderRadius = _ref$borderRadius === void 0 ? canvasDefaultProps.borderRadius : _ref$borderRadius,\n      _ref$borderWidth = _ref.borderWidth,\n      borderWidth = _ref$borderWidth === void 0 ? canvasDefaultProps.borderWidth : _ref$borderWidth,\n      _ref$borderColor = _ref.borderColor,\n      borderColor = _ref$borderColor === void 0 ? canvasDefaultProps.borderColor : _ref$borderColor,\n      _ref$annotations = _ref.annotations,\n      annotations = _ref$annotations === void 0 ? canvasDefaultProps.annotations : _ref$annotations,\n      legendLabel = _ref.legendLabel,\n      _ref$tooltipLabel = _ref.tooltipLabel,\n      tooltipLabel = _ref$tooltipLabel === void 0 ? canvasDefaultProps.tooltipLabel : _ref$tooltipLabel,\n      valueFormat = _ref.valueFormat,\n      _ref$isInteractive = _ref.isInteractive,\n      isInteractive = _ref$isInteractive === void 0 ? canvasDefaultProps.isInteractive : _ref$isInteractive,\n      _ref$tooltip = _ref.tooltip,\n      tooltip = _ref$tooltip === void 0 ? canvasDefaultProps.tooltip : _ref$tooltip,\n      onClick = _ref.onClick,\n      onMouseEnter = _ref.onMouseEnter,\n      onMouseLeave = _ref.onMouseLeave,\n      _ref$legends = _ref.legends,\n      legends = _ref$legends === void 0 ? canvasDefaultProps.legends : _ref$legends,\n      _ref$pixelRatio = _ref.pixelRatio,\n      pixelRatio = _ref$pixelRatio === void 0 ? canvasDefaultProps.pixelRatio : _ref$pixelRatio,\n      canvasRef = _ref.canvasRef;\n  var canvasEl = useRef(null);\n  var theme = useTheme();\n\n  var _useDimensions = useDimensions(width, height, partialMargin),\n      margin = _useDimensions.margin,\n      innerWidth = _useDimensions.innerWidth,\n      innerHeight = _useDimensions.innerHeight,\n      outerWidth = _useDimensions.outerWidth,\n      outerHeight = _useDimensions.outerHeight;\n\n  var _useTooltip = useTooltip(),\n      showTooltipFromEvent = _useTooltip.showTooltipFromEvent,\n      hideTooltip = _useTooltip.hideTooltip;\n\n  var formatValue = useValueFormatter(valueFormat);\n  var getBorderColor = useInheritedColor(borderColor, theme);\n  var getColor = useOrdinalColorScale(colors, colorBy);\n  var getIndex = usePropertyAccessor(indexBy);\n  var getLabel = usePropertyAccessor(label);\n  var getLabelColor = useInheritedColor(labelTextColor, theme);\n  var getTooltipLabel = usePropertyAccessor(tooltipLabel);\n  var options = {\n    layout: layout,\n    reverse: reverse,\n    data: data,\n    getIndex: getIndex,\n    keys: keys,\n    minValue: minValue,\n    maxValue: maxValue,\n    width: innerWidth,\n    height: innerHeight,\n    getColor: getColor,\n    padding: padding,\n    innerPadding: innerPadding,\n    valueScale: valueScale,\n    indexScale: indexScale,\n    formatValue: formatValue,\n    getTooltipLabel: getTooltipLabel\n  };\n  var result = groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options);\n  var legendData = useMemo(function () {\n    return keys.map(function (key) {\n      var bar = result.bars.find(function (bar) {\n        return bar.data.id === key;\n      });\n      return _objectSpread2(_objectSpread2({}, bar), {}, {\n        data: _objectSpread2(_objectSpread2({\n          id: key\n        }, bar === null || bar === void 0 ? void 0 : bar.data), {}, {\n          hidden: false\n        })\n      });\n    });\n  }, [keys, result.bars]);\n  var barsWithValue = useMemo(function () {\n    return result.bars.filter(function (bar) {\n      return bar.data.value !== null;\n    });\n  }, [result.bars]);\n  var shouldRenderLabel = useCallback(function (_ref3) {\n    var width = _ref3.width,\n        height = _ref3.height;\n    if (!enableLabel) return false;\n    if (labelSkipWidth > 0 && width < labelSkipWidth) return false;\n    if (labelSkipHeight > 0 && height < labelSkipHeight) return false;\n    return true;\n  }, [enableLabel, labelSkipHeight, labelSkipWidth]);\n  var boundAnnotations = useComputedAnnotations({\n    annotations: useAnnotations({\n      data: result.bars,\n      annotations: annotations,\n      getPosition: function getPosition(node) {\n        return {\n          x: node.x,\n          y: node.y\n        };\n      },\n      getDimensions: function getDimensions(_ref4) {\n        var width = _ref4.width,\n            height = _ref4.height;\n        return {\n          width: width,\n          height: height,\n          size: Math.max(width, height)\n        };\n      }\n    })\n  });\n  var layerContext = useMemo(function () {\n    return _objectSpread2({\n      borderRadius: borderRadius,\n      borderWidth: borderWidth,\n      enableLabel: enableLabel,\n      isInteractive: isInteractive,\n      labelSkipWidth: labelSkipWidth,\n      labelSkipHeight: labelSkipHeight,\n      onClick: onClick,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      getTooltipLabel: getTooltipLabel,\n      tooltip: tooltip,\n      margin: margin,\n      innerWidth: innerWidth,\n      innerHeight: innerHeight,\n      width: width,\n      height: height\n    }, result);\n  }, [borderRadius, borderWidth, enableLabel, getTooltipLabel, height, innerHeight, innerWidth, isInteractive, labelSkipHeight, labelSkipWidth, margin, onClick, onMouseEnter, onMouseLeave, result, tooltip, width]);\n  useEffect(function () {\n    var _canvasEl$current;\n\n    var ctx = (_canvasEl$current = canvasEl.current) === null || _canvasEl$current === void 0 ? void 0 : _canvasEl$current.getContext('2d');\n    if (!canvasEl.current) return;\n    if (!ctx) return;\n    canvasEl.current.width = outerWidth * pixelRatio;\n    canvasEl.current.height = outerHeight * pixelRatio;\n    ctx.scale(pixelRatio, pixelRatio);\n    ctx.fillStyle = theme.background;\n    ctx.fillRect(0, 0, outerWidth, outerHeight);\n    ctx.translate(margin.left, margin.top);\n    layers.forEach(function (layer) {\n      if (layer === 'grid') {\n        if (isNumber(theme.grid.line.strokeWidth) && theme.grid.line.strokeWidth > 0) {\n          ctx.lineWidth = theme.grid.line.strokeWidth;\n          ctx.strokeStyle = theme.grid.line.stroke;\n\n          if (enableGridX) {\n            renderGridLinesToCanvas(ctx, {\n              width: width,\n              height: height,\n              scale: result.xScale,\n              axis: 'x',\n              values: gridXValues\n            });\n          }\n\n          if (enableGridY) {\n            renderGridLinesToCanvas(ctx, {\n              width: width,\n              height: height,\n              scale: result.yScale,\n              axis: 'y',\n              values: gridYValues\n            });\n          }\n        }\n      } else if (layer === 'axes') {\n        renderAxesToCanvas(ctx, {\n          xScale: result.xScale,\n          yScale: result.yScale,\n          width: innerWidth,\n          height: innerHeight,\n          top: axisTop,\n          right: axisRight,\n          bottom: axisBottom,\n          left: axisLeft,\n          theme: theme\n        });\n      } else if (layer === 'bars') {\n        barsWithValue.forEach(function (bar) {\n          renderBar(ctx, {\n            bar: bar,\n            borderColor: getBorderColor(bar),\n            borderRadius: borderRadius,\n            borderWidth: borderWidth,\n            label: getLabel(bar.data),\n            labelColor: getLabelColor(bar),\n            shouldRenderLabel: shouldRenderLabel(bar)\n          });\n        });\n      } else if (layer === 'legends') {\n        legends.forEach(function (legend) {\n          var data = getLegendData({\n            bars: legendData,\n            direction: legend.direction,\n            from: legend.dataFrom,\n            groupMode: groupMode,\n            layout: layout,\n            legendLabel: legendLabel,\n            reverse: reverse\n          });\n          renderLegendToCanvas(ctx, _objectSpread2(_objectSpread2({}, legend), {}, {\n            data: data,\n            containerWidth: innerWidth,\n            containerHeight: innerHeight,\n            theme: theme\n          }));\n        });\n      } else if (layer === 'annotations') {\n        renderAnnotationsToCanvas(ctx, {\n          annotations: boundAnnotations,\n          theme: theme\n        });\n      } else if (typeof layer === 'function') {\n        layer(ctx, layerContext);\n      }\n    });\n    ctx.save();\n  }, [axisBottom, axisLeft, axisRight, axisTop, barsWithValue, borderRadius, borderWidth, boundAnnotations, enableGridX, enableGridY, getBorderColor, getLabel, getLabelColor, gridXValues, gridYValues, groupMode, height, innerHeight, innerWidth, layerContext, layers, layout, legendData, legendLabel, legends, margin.left, margin.top, outerHeight, outerWidth, pixelRatio, renderBar, result.xScale, result.yScale, reverse, shouldRenderLabel, theme, width]);\n  var handleMouseHover = useCallback(function (event) {\n    if (!result.bars) return;\n    if (!canvasEl.current) return;\n\n    var _getRelativeCursor = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor2 = _slicedToArray(_getRelativeCursor, 2),\n        x = _getRelativeCursor2[0],\n        y = _getRelativeCursor2[1];\n\n    var bar = findBarUnderCursor(result.bars, margin, x, y);\n\n    if (bar !== undefined) {\n      showTooltipFromEvent(createElement(tooltip, _objectSpread2(_objectSpread2({}, bar.data), {}, {\n        color: bar.color,\n        label: bar.label,\n        value: Number(bar.data.value)\n      })), event);\n\n      if (event.type === 'mouseenter') {\n        onMouseEnter === null || onMouseEnter === void 0 ? void 0 : onMouseEnter(bar.data, event);\n      }\n    } else {\n      hideTooltip();\n    }\n  }, [hideTooltip, margin, onMouseEnter, result.bars, showTooltipFromEvent, tooltip]);\n  var handleMouseLeave = useCallback(function (event) {\n    if (!result.bars) return;\n    if (!canvasEl.current) return;\n    hideTooltip();\n\n    var _getRelativeCursor3 = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor4 = _slicedToArray(_getRelativeCursor3, 2),\n        x = _getRelativeCursor4[0],\n        y = _getRelativeCursor4[1];\n\n    var bar = findBarUnderCursor(result.bars, margin, x, y);\n\n    if (bar) {\n      onMouseLeave === null || onMouseLeave === void 0 ? void 0 : onMouseLeave(bar.data, event);\n    }\n  }, [hideTooltip, margin, onMouseLeave, result.bars]);\n  var handleClick = useCallback(function (event) {\n    if (!result.bars) return;\n    if (!canvasEl.current) return;\n\n    var _getRelativeCursor5 = getRelativeCursor(canvasEl.current, event),\n        _getRelativeCursor6 = _slicedToArray(_getRelativeCursor5, 2),\n        x = _getRelativeCursor6[0],\n        y = _getRelativeCursor6[1];\n\n    var bar = findBarUnderCursor(result.bars, margin, x, y);\n\n    if (bar !== undefined) {\n      onClick === null || onClick === void 0 ? void 0 : onClick(_objectSpread2(_objectSpread2({}, bar.data), {}, {\n        color: bar.color\n      }), event);\n    }\n  }, [margin, onClick, result.bars]);\n  return jsx(\"canvas\", {\n    ref: function ref(canvas) {\n      canvasEl.current = canvas;\n      if (canvasRef && 'current' in canvasRef) canvasRef.current = canvas;\n    },\n    width: outerWidth * pixelRatio,\n    height: outerHeight * pixelRatio,\n    style: {\n      width: outerWidth,\n      height: outerHeight,\n      cursor: isInteractive ? 'auto' : 'normal'\n    },\n    onMouseEnter: isInteractive ? handleMouseHover : undefined,\n    onMouseMove: isInteractive ? handleMouseHover : undefined,\n    onMouseLeave: isInteractive ? handleMouseLeave : undefined,\n    onClick: isInteractive ? handleClick : undefined\n  });\n};\n\nvar BarCanvas = forwardRef(function (_ref5, ref) {\n  var isInteractive = _ref5.isInteractive,\n      renderWrapper = _ref5.renderWrapper,\n      theme = _ref5.theme,\n      props = _objectWithoutProperties(_ref5, [\"isInteractive\", \"renderWrapper\", \"theme\"]);\n\n  return jsx(Container, {\n    isInteractive: isInteractive,\n    renderWrapper: renderWrapper,\n    theme: theme,\n    animate: false,\n    children: jsx(InnerBarCanvas, _objectSpread2(_objectSpread2({}, props), {}, {\n      canvasRef: ref\n    }))\n  });\n});\n\nvar ResponsiveBar = function ResponsiveBar(props) {\n  return jsx(ResponsiveWrapper, {\n    children: function children(_ref) {\n      var width = _ref.width,\n          height = _ref.height;\n      return jsx(Bar, _objectSpread2({\n        width: width,\n        height: height\n      }, props));\n    }\n  });\n};\n\nvar ResponsiveBarCanvas = forwardRef(function ResponsiveBarCanvas(props, ref) {\n  return jsx(ResponsiveWrapper, {\n    children: function children(_ref) {\n      var width = _ref.width,\n          height = _ref.height;\n      return jsx(BarCanvas, _objectSpread2(_objectSpread2({\n        width: width,\n        height: height\n      }, props), {}, {\n        ref: ref\n      }));\n    }\n  });\n});\nexport { Bar, BarCanvas, BarItem, ResponsiveBar, ResponsiveBarCanvas, canvasDefaultProps, defaultProps, svgDefaultProps };","map":{"version":3,"sources":["../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/defineProperty.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/objectSpread2.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayLikeToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithoutHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/unsupportedIterableToArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableSpread.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/arrayWithHoles.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/iterableToArrayLimit.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/nonIterableRest.js","../../../node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js","../src/BarAnnotations.tsx","../src/BarLegends.tsx","../src/compute/common.ts","../src/compute/grouped.ts","../src/compute/stacked.ts","../src/compute/legends.ts","../src/BarItem.tsx","../src/BarTooltip.tsx","../src/props.ts","../src/Bar.tsx","../src/BarCanvas.tsx","../src/ResponsiveBar.tsx","../src/ResponsiveBarCanvas.tsx"],"names":["objectWithoutPropertiesLoose","defineProperty","arrayLikeToArray","arrayWithoutHoles","iterableToArray","unsupportedIterableToArray","nonIterableSpread","arrayWithHoles","iterableToArrayLimit","nonIterableRest","BarAnnotations","bars","annotations","boundAnnotations","useAnnotations","data","getPosition","x","bar","y","getDimensions","height","width","size","Math","_jsx","BarLegends","legends","toggleSerie","legend","undefined","getIndexScale","computeScale","all","min","max","normalizeData","acc","filterNullValues","coerceValue","Number","gt","value","lt","flatten","range","end","start","clampToZero","zeroIfNotFinite","isFinite","generateVerticalGroupedBars","formatValue","getColor","getIndex","getTooltipLabel","innerPadding","keys","xScale","yScale","compare","reverse","getY","getHeight","yRef","cleanedData","rawValue","indexValue","barWidth","barHeight","barData","id","formattedValue","hidden","index","key","color","label","generateHorizontalGroupedBars","getX","getWidth","xRef","generateGroupedBars","layout","minValue","maxValue","padding","valueScale","indexScale","indexScaleConfig","hiddenIds","props","axis","otherAxis","scaleSpec","clampMin","values","entry","scale","bandwidth","params","flattenDeep","arr","Array","filterZerosIfLog","num","generateVerticalStackedBars","stackedData","d","stackedDataItem","generateHorizontalStackedBars","generateStackedBars","stack","getLegendDataForKeys","getLegendLabel","groupMode","direction","getLegendDataForIndexes","getLegendData","from","legendLabel","getPropertyAccessor","BarItem","style","borderColor","labelColor","labelOpacity","labelX","labelY","transform","borderRadius","borderWidth","shouldRenderLabel","isInteractive","onClick","onMouseEnter","onMouseLeave","tooltip","theme","useTheme","showTooltipFromEvent","hideTooltip","useTooltip","handleClick","useCallback","handleTooltip","createElement","handleMouseEnter","handleMouseLeave","to","pointerEvents","fill","BarTooltip","defaultProps","indexBy","type","round","axisBottom","axisLeft","enableGridX","enableGridY","enableLabel","labelSkipWidth","labelSkipHeight","labelTextColor","colorBy","colors","scheme","tooltipLabel","datum","svgDefaultProps","layers","barComponent","defs","animate","motionConfig","role","canvasDefaultProps","pixelRatio","window","InnerBar","margin","partialMargin","axisTop","axisRight","gridXValues","gridYValues","markers","valueFormat","initialHiddenIds","setHiddenIds","useState","item","springConfig","useMotionConfig","outerWidth","outerHeight","innerWidth","innerHeight","useDimensions","useValueFormatter","getBorderColor","useInheritedColor","useOrdinalColorScale","usePropertyAccessor","getLabel","getLabelColor","generateBars","result","legendData","useMemo","barsWithValue","transition","useTransition","enter","update","leave","config","immediate","commonProps","boundDefs","bindDefs","dataKey","targetKey","layerById","axes","grid","layerContext","Bar","renderWrapper","otherProps","findBarUnderCursor","isCursorInRect","node","isNumber","InnerBarCanvas","renderBar","ctx","radius","canvasRef","canvasEl","useRef","options","useComputedAnnotations","useEffect","layer","renderGridLinesToCanvas","renderAxesToCanvas","top","right","bottom","left","renderLegendToCanvas","containerWidth","containerHeight","renderAnnotationsToCanvas","handleMouseHover","getRelativeCursor","event","cursor","BarCanvas","forwardRef","ref","ResponsiveBar","ResponsiveBarCanvas"],"mappings":"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","sourcesContent":["export default function _objectWithoutPropertiesLoose(source, excluded) {\n  if (source == null) return {};\n  var target = {};\n  var sourceKeys = Object.keys(source);\n  var key, i;\n\n  for (i = 0; i < sourceKeys.length; i++) {\n    key = sourceKeys[i];\n    if (excluded.indexOf(key) >= 0) continue;\n    target[key] = source[key];\n  }\n\n  return target;\n}","import objectWithoutPropertiesLoose from \"@babel/runtime/helpers/esm/objectWithoutPropertiesLoose\";\nexport default function _objectWithoutProperties(source, excluded) {\n  if (source == null) return {};\n  var target = objectWithoutPropertiesLoose(source, excluded);\n  var key, i;\n\n  if (Object.getOwnPropertySymbols) {\n    var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n\n    for (i = 0; i < sourceSymbolKeys.length; i++) {\n      key = sourceSymbolKeys[i];\n      if (excluded.indexOf(key) >= 0) continue;\n      if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}","export default function _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}","import defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nexport default function _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(Object(source), true).forEach(function (key) {\n        defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(Object(source)).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}","export default function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) return arrayLikeToArray(arr);\n}","export default function _iterableToArray(iter) {\n  if (typeof Symbol !== \"undefined\" && Symbol.iterator in Object(iter)) return Array.from(iter);\n}","import arrayLikeToArray from \"@babel/runtime/helpers/esm/arrayLikeToArray\";\nexport default function _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}","export default function _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithoutHoles from \"@babel/runtime/helpers/esm/arrayWithoutHoles\";\nimport iterableToArray from \"@babel/runtime/helpers/esm/iterableToArray\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableSpread from \"@babel/runtime/helpers/esm/nonIterableSpread\";\nexport default function _toConsumableArray(arr) {\n  return arrayWithoutHoles(arr) || iterableToArray(arr) || unsupportedIterableToArray(arr) || nonIterableSpread();\n}","export default function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}","export default function _iterableToArrayLimit(arr, i) {\n  if (typeof Symbol === \"undefined\" || !(Symbol.iterator in Object(arr))) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n  var _e = undefined;\n\n  try {\n    for (var _i = arr[Symbol.iterator](), _s; !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}","export default function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}","import arrayWithHoles from \"@babel/runtime/helpers/esm/arrayWithHoles\";\nimport iterableToArrayLimit from \"@babel/runtime/helpers/esm/iterableToArrayLimit\";\nimport unsupportedIterableToArray from \"@babel/runtime/helpers/esm/unsupportedIterableToArray\";\nimport nonIterableRest from \"@babel/runtime/helpers/esm/nonIterableRest\";\nexport default function _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}","import { Annotation, useAnnotations } from '@nivo/annotations'\nimport { BarAnnotationsProps } from './types'\n\nexport const BarAnnotations = <RawDatum,>({ bars, annotations }: BarAnnotationsProps<RawDatum>) => {\n    const boundAnnotations = useAnnotations({\n        data: bars,\n        annotations,\n        getPosition: bar => ({\n            x: bar.x + bar.width / 2,\n            y: bar.y + bar.height / 2,\n        }),\n        getDimensions: ({ height, width }) => ({\n            width,\n            height,\n            size: Math.max(width, height),\n        }),\n    })\n\n    return (\n        <>\n            {boundAnnotations.map((annotation, i) => (\n                <Annotation key={i} {...annotation} />\n            ))}\n        </>\n    )\n}\n","import { BoxLegendSvg } from '@nivo/legends'\nimport { BarCommonProps, LegendData } from './types'\n\ninterface BarLegendsProps<RawDatum> {\n    width: number\n    height: number\n    legends: BarCommonProps<RawDatum>['legends']\n    data: LegendData[]\n    toggleSerie: (id: string | number) => void\n}\n\nexport const BarLegends = <RawDatum,>({\n    width,\n    height,\n    legends,\n    data,\n    toggleSerie,\n}: BarLegendsProps<RawDatum>) => {\n    return (\n        <>\n            {legends.map((legend, i) => (\n                <BoxLegendSvg\n                    key={i}\n                    {...legend}\n                    containerWidth={width}\n                    containerHeight={height}\n                    data={legend.data ?? data}\n                    toggleSerie={\n                        legend.toggleSerie && legend.dataFrom === 'keys' ? toggleSerie : undefined\n                    }\n                />\n            ))}\n        </>\n    )\n}\n","import { ScaleBandSpec, ScaleBand, computeScale } from '@nivo/scales'\n\n/**\n * Generates indexed scale.\n */\nexport const getIndexScale = <RawDatum>(\n    data: RawDatum[],\n    getIndex: (datum: RawDatum) => string,\n    padding: number,\n    indexScale: ScaleBandSpec,\n    size: number,\n    axis: 'x' | 'y'\n) => {\n    return (computeScale(\n        indexScale,\n        { all: data.map(getIndex), min: 0, max: 0 },\n        size,\n        axis\n    ) as ScaleBand<string>).padding(padding)\n}\n\n/**\n * This method ensures all the provided keys exist in the entire series.\n */\nexport const normalizeData = <RawDatum>(data: RawDatum[], keys: string[]) =>\n    data.map(\n        item =>\n            ({\n                ...keys.reduce<Record<string, unknown>>((acc, key) => {\n                    acc[key] = null\n                    return acc\n                }, {}),\n                ...item,\n            } as RawDatum)\n    )\n\nexport const filterNullValues = <RawDatum extends Record<string, unknown>>(data: RawDatum) =>\n    Object.keys(data).reduce<Record<string, unknown>>((acc, key) => {\n        if (data[key]) {\n            acc[key] = data[key]\n        }\n        return acc\n    }, {}) as Exclude<RawDatum, null | undefined | false | '' | 0>\n\nexport const coerceValue = <T>(value: T) => [value, Number(value)] as const\n","import { BarDatum, BarSvgProps, ComputedBarDatum, ComputedDatum } from '../types'\nimport { OrdinalColorScale } from '@nivo/colors'\nimport { Scale, ScaleBand } from '@nivo/scales'\nimport { coerceValue, filterNullValues, getIndexScale, normalizeData } from './common'\nimport { computeScale } from '@nivo/scales'\n\ntype Params<RawDatum, XScaleInput, YScaleInput> = {\n    data: RawDatum[]\n    formatValue: (value: number) => string\n    getColor: OrdinalColorScale<ComputedDatum<RawDatum>>\n    getIndex: (datum: RawDatum) => string\n    getTooltipLabel: (datum: ComputedDatum<RawDatum>) => string\n    innerPadding: number\n    keys: string[]\n    xScale: XScaleInput extends string ? ScaleBand<XScaleInput> : Scale<XScaleInput, number>\n    yScale: YScaleInput extends string ? ScaleBand<YScaleInput> : Scale<YScaleInput, number>\n}\n\nconst gt = (value: number, other: number) => value > other\nconst lt = (value: number, other: number) => value < other\n\nconst flatten = <T>(array: T[][]) => ([] as T[]).concat(...array)\nconst range = (start: number, end: number) =>\n    Array.from(' '.repeat(end - start), (_, index) => start + index)\n\nconst clampToZero = (value: number) => (gt(value, 0) ? 0 : value)\nconst zeroIfNotFinite = (value: number) => (isFinite(value) ? value : 0)\n\n/**\n * Generates x/y scales & bars for vertical grouped bar chart.\n */\nconst generateVerticalGroupedBars = <RawDatum extends Record<string, unknown>>(\n    {\n        data,\n        formatValue,\n        getColor,\n        getIndex,\n        getTooltipLabel,\n        innerPadding = 0,\n        keys,\n        xScale,\n        yScale,\n    }: Params<RawDatum, string, number>,\n    barWidth: number,\n    reverse: boolean,\n    yRef: number\n) => {\n    const compare = reverse ? lt : gt\n    const getY = (d: number) => (compare(d, 0) ? yScale(d) ?? 0 : yRef)\n    const getHeight = (d: number, y: number) => (compare(d, 0) ? yRef - y : (yScale(d) ?? 0) - yRef)\n    const cleanedData = data.map(filterNullValues)\n\n    const bars = flatten(\n        keys.map((key, i) =>\n            range(0, xScale.domain().length).map(index => {\n                const [rawValue, value] = coerceValue(data[index][key])\n                const indexValue = getIndex(data[index])\n                const x = (xScale(indexValue) ?? 0) + barWidth * i + innerPadding * i\n                const y = getY(value)\n                const barHeight = getHeight(value, y)\n                const barData = {\n                    id: key,\n                    value: rawValue === null ? rawValue : value,\n                    formattedValue: formatValue(value),\n                    hidden: false,\n                    index,\n                    indexValue,\n                    data: cleanedData[index],\n                }\n\n                return {\n                    key: `${key}.${barData.indexValue}`,\n                    data: barData,\n                    x,\n                    y,\n                    width: barWidth,\n                    height: barHeight,\n                    color: getColor(barData),\n                    label: getTooltipLabel(barData),\n                }\n            })\n        )\n    )\n\n    return bars\n}\n\n/**\n * Generates x/y scales & bars for horizontal grouped bar chart.\n */\nconst generateHorizontalGroupedBars = <RawDatum extends Record<string, unknown>>(\n    {\n        data,\n        formatValue,\n        getIndex,\n        getColor,\n        getTooltipLabel,\n        keys,\n        innerPadding = 0,\n        xScale,\n        yScale,\n    }: Params<RawDatum, number, string>,\n    barHeight: number,\n    reverse: boolean,\n    xRef: number\n) => {\n    const compare = reverse ? lt : gt\n    const getX = (d: number) => (compare(d, 0) ? xRef : xScale(d) ?? 0)\n    const getWidth = (d: number, x: number) => (compare(d, 0) ? (xScale(d) ?? 0) - xRef : xRef - x)\n    const cleanedData = data.map(filterNullValues)\n\n    const bars = flatten(\n        keys.map((key, i) =>\n            range(0, yScale.domain().length).map(index => {\n                const [rawValue, value] = coerceValue(data[index][key])\n                const indexValue = getIndex(data[index])\n                const x = getX(value)\n                const y = (yScale(indexValue) ?? 0) + barHeight * i + innerPadding * i\n                const barWidth = getWidth(value, x)\n                const barData = {\n                    id: key,\n                    value: rawValue === null ? rawValue : value,\n                    formattedValue: formatValue(value),\n                    hidden: false,\n                    index,\n                    indexValue,\n                    data: cleanedData[index],\n                }\n\n                return {\n                    key: `${key}.${barData.indexValue}`,\n                    data: barData,\n                    x,\n                    y,\n                    width: barWidth,\n                    height: barHeight,\n                    color: getColor(barData),\n                    label: getTooltipLabel(barData),\n                }\n            })\n        )\n    )\n\n    return bars\n}\n\n/**\n * Generates x/y scales & bars for grouped bar chart.\n */\nexport const generateGroupedBars = <RawDatum extends BarDatum>({\n    layout,\n    minValue,\n    maxValue,\n    reverse,\n    width,\n    height,\n    padding = 0,\n    innerPadding = 0,\n    valueScale,\n    indexScale: indexScaleConfig,\n    hiddenIds = [],\n    ...props\n}: Pick<\n    Required<BarSvgProps<RawDatum>>,\n    | 'data'\n    | 'height'\n    | 'indexScale'\n    | 'innerPadding'\n    | 'keys'\n    | 'layout'\n    | 'maxValue'\n    | 'minValue'\n    | 'padding'\n    | 'reverse'\n    | 'valueScale'\n    | 'width'\n> & {\n    formatValue: (value: number) => string\n    getColor: OrdinalColorScale<ComputedDatum<RawDatum>>\n    getIndex: (datum: RawDatum) => string\n    getTooltipLabel: (datum: ComputedDatum<RawDatum>) => string\n    hiddenIds?: string[]\n}) => {\n    const keys = props.keys.filter(key => !hiddenIds.includes(key))\n    const data = normalizeData(props.data, keys)\n    const [axis, otherAxis, size] =\n        layout === 'vertical' ? (['y', 'x', width] as const) : (['x', 'y', height] as const)\n    const indexScale = getIndexScale(\n        data,\n        props.getIndex,\n        padding,\n        indexScaleConfig,\n        size,\n        otherAxis\n    )\n\n    const scaleSpec = {\n        max: maxValue,\n        min: minValue,\n        reverse,\n        ...valueScale,\n    }\n\n    const clampMin = scaleSpec.min === 'auto' ? clampToZero : (value: number) => value\n\n    const values = data\n        .reduce<number[]>((acc, entry) => [...acc, ...keys.map(k => entry[k] as number)], [])\n        .filter(Boolean)\n    const min = clampMin(Math.min(...values))\n    const max = zeroIfNotFinite(Math.max(...values))\n\n    const scale = computeScale(\n        scaleSpec as any,\n        { all: values, min, max },\n        axis === 'x' ? width : height,\n        axis\n    )\n\n    const [xScale, yScale] = layout === 'vertical' ? [indexScale, scale] : [scale, indexScale]\n\n    const bandwidth = (indexScale.bandwidth() - innerPadding * (keys.length - 1)) / keys.length\n    const params = [\n        { ...props, data, keys, innerPadding, xScale, yScale } as Params<RawDatum, any, any>,\n        bandwidth,\n        scaleSpec.reverse,\n        scale(0) ?? 0,\n    ] as const\n\n    const bars: ComputedBarDatum<RawDatum>[] =\n        bandwidth > 0\n            ? layout === 'vertical'\n                ? generateVerticalGroupedBars(...params)\n                : generateHorizontalGroupedBars(...params)\n            : []\n\n    return { xScale, yScale, bars }\n}\n","import { BarDatum, BarSvgProps, ComputedBarDatum, ComputedDatum } from '../types'\nimport { OrdinalColorScale } from '@nivo/colors'\nimport { Scale, ScaleBand, computeScale } from '@nivo/scales'\nimport { Series, SeriesPoint, stack, stackOffsetDiverging } from 'd3-shape'\nimport { coerceValue, filterNullValues, getIndexScale, normalizeData } from './common'\n\ntype StackDatum<RawDatum> = SeriesPoint<RawDatum>\n\ntype Params<RawDatum, XScaleInput, YScaleInput> = {\n    formatValue: (value: number) => string\n    getColor: OrdinalColorScale<ComputedDatum<RawDatum>>\n    getIndex: (datum: RawDatum) => string\n    getTooltipLabel: (datum: ComputedDatum<RawDatum>) => string\n    innerPadding: number\n    stackedData: Series<RawDatum, string>[]\n    xScale: XScaleInput extends string ? ScaleBand<XScaleInput> : Scale<XScaleInput, number>\n    yScale: YScaleInput extends string ? ScaleBand<YScaleInput> : Scale<YScaleInput, number>\n}\n\nconst flattenDeep = <T>(arr: T[]): T =>\n    arr.some(Array.isArray) ? flattenDeep(([] as T[]).concat(...arr)) : ((arr as unknown) as T)\n\nconst filterZerosIfLog = (array: number[], type: string) =>\n    type === 'log' ? array.filter(num => num !== 0) : array\n\n/**\n * Generates x/y scales & bars for vertical stacked bar chart.\n */\nconst generateVerticalStackedBars = <RawDatum extends Record<string, unknown>>(\n    {\n        formatValue,\n        getColor,\n        getIndex,\n        getTooltipLabel,\n        innerPadding,\n        stackedData,\n        xScale,\n        yScale,\n    }: Params<RawDatum, string, number>,\n    barWidth: number,\n    reverse: boolean\n) => {\n    const getY = (d: StackDatum<RawDatum>) => yScale(d[reverse ? 0 : 1])\n    const getHeight = (d: StackDatum<RawDatum>, y: number) => (yScale(d[reverse ? 1 : 0]) ?? 0) - y\n\n    const bars = flattenDeep(\n        stackedData.map(stackedDataItem =>\n            xScale.domain().map((index, i) => {\n                const d = stackedDataItem[i]\n                const x = xScale(getIndex(d.data)) ?? 0\n                const y = (getY(d) ?? 0) + innerPadding * 0.5\n                const barHeight = getHeight(d, y) - innerPadding\n                const [rawValue, value] = coerceValue(d.data[stackedDataItem.key])\n\n                const barData = {\n                    id: stackedDataItem.key,\n                    value: rawValue === null ? rawValue : value,\n                    formattedValue: formatValue(value),\n                    hidden: false,\n                    index: i,\n                    indexValue: index,\n                    data: filterNullValues(d.data),\n                }\n\n                return {\n                    key: `${stackedDataItem.key}.${index}`,\n                    data: barData,\n                    x,\n                    y,\n                    width: barWidth,\n                    height: barHeight,\n                    color: getColor(barData),\n                    label: getTooltipLabel(barData),\n                }\n            })\n        )\n    )\n\n    return bars\n}\n\n/**\n * Generates x/y scales & bars for horizontal stacked bar chart.\n */\nconst generateHorizontalStackedBars = <RawDatum extends Record<string, unknown>>(\n    {\n        formatValue,\n        getColor,\n        getIndex,\n        getTooltipLabel,\n        innerPadding,\n        stackedData,\n        xScale,\n        yScale,\n    }: Params<RawDatum, number, string>,\n    barHeight: number,\n    reverse: boolean\n) => {\n    const getX = (d: StackDatum<RawDatum>) => xScale(d[reverse ? 1 : 0])\n    const getWidth = (d: StackDatum<RawDatum>, x: number) => (xScale(d[reverse ? 0 : 1]) ?? 0) - x\n\n    const bars = flattenDeep(\n        stackedData.map(stackedDataItem =>\n            yScale.domain().map((index, i) => {\n                const d = stackedDataItem[i]\n                const y = yScale(getIndex(d.data)) ?? 0\n                const x = (getX(d) ?? 0) + innerPadding * 0.5\n                const barWidth = getWidth(d, x) - innerPadding\n                const [rawValue, value] = coerceValue(d.data[stackedDataItem.key])\n\n                const barData = {\n                    id: stackedDataItem.key,\n                    value: rawValue === null ? rawValue : value,\n                    formattedValue: formatValue(value),\n                    hidden: false,\n                    index: i,\n                    indexValue: index,\n                    data: filterNullValues(d.data),\n                }\n\n                return {\n                    key: `${stackedDataItem.key}.${index}`,\n                    data: barData,\n                    x,\n                    y,\n                    width: barWidth,\n                    height: barHeight,\n                    color: getColor(barData),\n                    label: getTooltipLabel(barData),\n                }\n            })\n        )\n    )\n\n    return bars\n}\n\n/**\n * Generates x/y scales & bars for stacked bar chart.\n */\nexport const generateStackedBars = <RawDatum extends BarDatum>({\n    data,\n    layout,\n    minValue,\n    maxValue,\n    reverse,\n    width,\n    height,\n    padding = 0,\n    valueScale,\n    indexScale: indexScaleConfig,\n    hiddenIds = [],\n    ...props\n}: Pick<\n    Required<BarSvgProps<RawDatum>>,\n    | 'data'\n    | 'height'\n    | 'indexScale'\n    | 'innerPadding'\n    | 'keys'\n    | 'layout'\n    | 'maxValue'\n    | 'minValue'\n    | 'padding'\n    | 'reverse'\n    | 'valueScale'\n    | 'width'\n> & {\n    formatValue: (value: number) => string\n    getColor: OrdinalColorScale<ComputedDatum<RawDatum>>\n    getIndex: (datum: RawDatum) => string\n    getTooltipLabel: (datum: ComputedDatum<RawDatum>) => string\n    hiddenIds?: string[]\n}) => {\n    const keys = props.keys.filter(key => !hiddenIds.includes(key))\n    const stackedData = stack<RawDatum, string>().keys(keys).offset(stackOffsetDiverging)(\n        normalizeData(data, keys)\n    )\n\n    const [axis, otherAxis, size] =\n        layout === 'vertical' ? (['y', 'x', width] as const) : (['x', 'y', height] as const)\n    const indexScale = getIndexScale(\n        data,\n        props.getIndex,\n        padding,\n        indexScaleConfig,\n        size,\n        otherAxis\n    )\n\n    const scaleSpec = {\n        max: maxValue,\n        min: minValue,\n        reverse,\n        ...valueScale,\n    }\n\n    const values = filterZerosIfLog(\n        flattenDeep((stackedData as unknown) as number[][]),\n        valueScale.type\n    )\n    const min = Math.min(...values)\n    const max = Math.max(...values)\n\n    const scale = computeScale(\n        scaleSpec as any,\n        { all: values, min, max },\n        axis === 'x' ? width : height,\n        axis\n    )\n\n    const [xScale, yScale] = layout === 'vertical' ? [indexScale, scale] : [scale, indexScale]\n\n    const innerPadding = props.innerPadding > 0 ? props.innerPadding : 0\n    const bandwidth = indexScale.bandwidth()\n    const params = [\n        { ...props, innerPadding, stackedData, xScale, yScale } as Params<RawDatum, any, any>,\n        bandwidth,\n        scaleSpec.reverse,\n    ] as const\n\n    const bars: ComputedBarDatum<RawDatum>[] =\n        bandwidth > 0\n            ? layout === 'vertical'\n                ? generateVerticalStackedBars(...params)\n                : generateHorizontalStackedBars(...params)\n            : []\n\n    return { xScale, yScale, bars }\n}\n","import { BarDatum, BarLegendProps, BarSvgProps, BarsWithHidden, LegendLabelDatum } from '../types'\nimport { getPropertyAccessor } from '@nivo/core'\nimport { uniqBy } from 'lodash'\n\nexport const getLegendDataForKeys = <RawDatum extends BarDatum>(\n    bars: BarsWithHidden<RawDatum>,\n    layout: NonNullable<BarSvgProps<RawDatum>['layout']>,\n    direction: BarLegendProps['direction'],\n    groupMode: NonNullable<BarSvgProps<RawDatum>['groupMode']>,\n    reverse: boolean,\n    getLegendLabel: (datum: LegendLabelDatum<RawDatum>) => string\n) => {\n    const data = uniqBy(\n        bars.map(bar => ({\n            id: bar.data.id,\n            label: getLegendLabel(bar.data),\n            hidden: bar.data.hidden,\n            color: bar.color ?? '#000',\n        })),\n        ({ id }) => id\n    )\n\n    if (\n        (layout === 'vertical' &&\n            groupMode === 'stacked' &&\n            direction === 'column' &&\n            reverse !== true) ||\n        (layout === 'horizontal' && groupMode === 'stacked' && reverse === true)\n    ) {\n        data.reverse()\n    }\n\n    return data\n}\n\nexport const getLegendDataForIndexes = <RawDatum extends BarDatum>(\n    bars: BarsWithHidden<RawDatum>,\n    layout: NonNullable<BarSvgProps<RawDatum>['layout']>,\n    getLegendLabel: (datum: LegendLabelDatum<RawDatum>) => string\n) => {\n    const data = uniqBy(\n        bars.map(bar => ({\n            id: bar.data.indexValue ?? '',\n            label: getLegendLabel(bar.data),\n            hidden: bar.data.hidden,\n            color: bar.color ?? '#000',\n        })),\n        ({ id }) => id\n    )\n\n    if (layout === 'horizontal') {\n        data.reverse()\n    }\n\n    return data\n}\n\nexport const getLegendData = <RawDatum extends BarDatum>({\n    bars,\n    direction,\n    from,\n    groupMode,\n    layout,\n    legendLabel,\n    reverse,\n}: Pick<Required<BarSvgProps<RawDatum>>, 'layout' | 'groupMode' | 'reverse'> & {\n    bars: BarsWithHidden<RawDatum>\n    direction: BarLegendProps['direction']\n    from: BarLegendProps['dataFrom']\n    legendLabel: BarSvgProps<RawDatum>['legendLabel']\n}) => {\n    const getLegendLabel = getPropertyAccessor(\n        legendLabel ?? (from === 'indexes' ? 'indexValue' : 'id')\n    )\n\n    if (from === 'indexes') {\n        return getLegendDataForIndexes(bars, layout, getLegendLabel)\n    }\n\n    return getLegendDataForKeys(bars, layout, direction, groupMode, reverse, getLegendLabel)\n}\n","import { BarDatum, BarItemProps } from './types'\nimport { animated, to } from '@react-spring/web'\nimport { createElement, useCallback } from 'react'\nimport { useTheme } from '@nivo/core'\nimport { useTooltip } from '@nivo/tooltip'\n\nexport const BarItem = <RawDatum extends BarDatum>({\n    bar: { data, ...bar },\n\n    style: {\n        borderColor,\n        color,\n        height,\n        labelColor,\n        labelOpacity,\n        labelX,\n        labelY,\n        transform,\n        width,\n    },\n\n    borderRadius,\n    borderWidth,\n\n    label,\n    shouldRenderLabel,\n\n    isInteractive,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    tooltip,\n}: BarItemProps<RawDatum>) => {\n    const theme = useTheme()\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const handleClick = useCallback(\n        (event: React.MouseEvent<SVGRectElement>) => {\n            onClick?.({ color: bar.color, ...data }, event)\n        },\n        [bar, data, onClick]\n    )\n    const handleTooltip = useCallback(\n        (event: React.MouseEvent<SVGRectElement>) =>\n            showTooltipFromEvent(createElement(tooltip, { ...bar, ...data }), event),\n        [bar, data, showTooltipFromEvent, tooltip]\n    )\n    const handleMouseEnter = useCallback(\n        (event: React.MouseEvent<SVGRectElement>) => {\n            onMouseEnter?.(data, event)\n            showTooltipFromEvent(createElement(tooltip, { ...bar, ...data }), event)\n        },\n        [bar, data, onMouseEnter, showTooltipFromEvent, tooltip]\n    )\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent<SVGRectElement>) => {\n            onMouseLeave?.(data, event)\n            hideTooltip()\n        },\n        [data, hideTooltip, onMouseLeave]\n    )\n\n    return (\n        <animated.g transform={transform}>\n            <animated.rect\n                width={to(width, value => Math.max(value, 0))}\n                height={to(height, value => Math.max(value, 0))}\n                rx={borderRadius}\n                ry={borderRadius}\n                fill={data.fill ?? color}\n                strokeWidth={borderWidth}\n                stroke={borderColor}\n                onMouseEnter={isInteractive ? handleMouseEnter : undefined}\n                onMouseMove={isInteractive ? handleTooltip : undefined}\n                onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n                onClick={isInteractive ? handleClick : undefined}\n            />\n            {shouldRenderLabel && (\n                <animated.text\n                    x={labelX}\n                    y={labelY}\n                    textAnchor=\"middle\"\n                    dominantBaseline=\"central\"\n                    fillOpacity={labelOpacity}\n                    style={{\n                        ...theme.labels.text,\n                        pointerEvents: 'none',\n                        fill: labelColor,\n                    }}\n                >\n                    {label}\n                </animated.text>\n            )}\n        </animated.g>\n    )\n}\n","import { BarTooltipProps } from './types'\nimport { BasicTooltip } from '@nivo/tooltip'\n\nexport const BarTooltip = <RawDatum,>({ color, label, ...data }: BarTooltipProps<RawDatum>) => {\n    return <BasicTooltip id={label} value={data.formattedValue} enableChip={true} color={color} />\n}\n","import { BarItem } from './BarItem'\nimport { BarTooltip } from './BarTooltip'\nimport { ComputedDatum } from './types'\nimport { InheritedColorConfig, OrdinalColorScaleConfig } from '@nivo/colors'\nimport { ScaleBandSpec, ScaleSpec } from '@nivo/scales'\n\nexport const defaultProps = {\n    indexBy: 'id',\n    keys: ['value'],\n\n    groupMode: 'stacked' as const,\n    layout: 'vertical' as const,\n    reverse: false,\n\n    minValue: 'auto' as const,\n    maxValue: 'auto' as const,\n\n    valueScale: { type: 'linear' } as ScaleSpec,\n    indexScale: { type: 'band', round: true } as ScaleBandSpec,\n\n    padding: 0.1,\n    innerPadding: 0,\n\n    axisBottom: {},\n    axisLeft: {},\n    enableGridX: false,\n    enableGridY: true,\n\n    enableLabel: true,\n    label: 'formattedValue',\n    labelSkipWidth: 0,\n    labelSkipHeight: 0,\n    labelTextColor: { from: 'theme', theme: 'labels.text.fill' },\n\n    colorBy: 'id' as const,\n    colors: { scheme: 'nivo' } as OrdinalColorScaleConfig,\n\n    borderRadius: 0,\n    borderWidth: 0,\n    borderColor: { from: 'color' } as InheritedColorConfig<any>,\n\n    isInteractive: true,\n    tooltip: BarTooltip,\n    tooltipLabel: <RawDatum>(datum: ComputedDatum<RawDatum>) => `${datum.id} - ${datum.indexValue}`,\n\n    legends: [],\n\n    annotations: [],\n}\n\nexport const svgDefaultProps = {\n    ...defaultProps,\n    layers: ['grid', 'axes', 'bars', 'markers', 'legends', 'annotations'],\n    barComponent: BarItem,\n\n    defs: [],\n    fill: [],\n\n    animate: true,\n    motionConfig: 'default',\n\n    role: 'img',\n}\n\nexport const canvasDefaultProps = {\n    ...defaultProps,\n    layers: ['grid', 'axes', 'bars', 'legends', 'annotations'],\n\n    pixelRatio: typeof window !== 'undefined' ? window.devicePixelRatio ?? 1 : 1,\n}\n","import { Axes, Grid } from '@nivo/axes'\nimport { BarAnnotations } from './BarAnnotations'\nimport {\n    BarDatum,\n    BarLayer,\n    BarLayerId,\n    BarSvgProps,\n    ComputedBarDatumWithValue,\n    LegendData,\n} from './types'\nimport { BarLegends } from './BarLegends'\nimport {\n    // @ts-ignore\n    CartesianMarkers,\n    Container,\n    SvgWrapper,\n    // @ts-ignore\n    bindDefs,\n    useDimensions,\n    useMotionConfig,\n    usePropertyAccessor,\n    useTheme,\n    useValueFormatter,\n} from '@nivo/core'\nimport { Fragment, ReactNode, createElement, useCallback, useMemo, useState } from 'react'\nimport { generateGroupedBars, generateStackedBars, getLegendData } from './compute'\nimport { svgDefaultProps } from './props'\nimport { useInheritedColor, useOrdinalColorScale } from '@nivo/colors'\nimport { useTransition } from '@react-spring/web'\n\ntype InnerBarProps<RawDatum extends BarDatum> = Omit<\n    BarSvgProps<RawDatum>,\n    'animate' | 'motionConfig' | 'renderWrapper' | 'theme'\n>\n\nconst InnerBar = <RawDatum extends BarDatum>({\n    data,\n    indexBy = svgDefaultProps.indexBy,\n    keys = svgDefaultProps.keys,\n\n    margin: partialMargin,\n    width,\n    height,\n\n    groupMode = svgDefaultProps.groupMode,\n    layout = svgDefaultProps.layout,\n    reverse = svgDefaultProps.reverse,\n    minValue = svgDefaultProps.minValue,\n    maxValue = svgDefaultProps.maxValue,\n\n    valueScale = svgDefaultProps.valueScale,\n    indexScale = svgDefaultProps.indexScale,\n\n    padding = svgDefaultProps.padding,\n    innerPadding = svgDefaultProps.innerPadding,\n\n    axisTop,\n    axisRight,\n    axisBottom = svgDefaultProps.axisBottom,\n    axisLeft = svgDefaultProps.axisLeft,\n    enableGridX = svgDefaultProps.enableGridX,\n    enableGridY = svgDefaultProps.enableGridY,\n    gridXValues,\n    gridYValues,\n\n    layers = svgDefaultProps.layers as BarLayer<RawDatum>[],\n    barComponent = svgDefaultProps.barComponent,\n\n    enableLabel = svgDefaultProps.enableLabel,\n    label = svgDefaultProps.label,\n    labelSkipWidth = svgDefaultProps.labelSkipWidth,\n    labelSkipHeight = svgDefaultProps.labelSkipHeight,\n    labelTextColor = svgDefaultProps.labelTextColor,\n\n    markers,\n\n    colorBy = svgDefaultProps.colorBy,\n    colors = svgDefaultProps.colors,\n    defs = svgDefaultProps.defs,\n    fill = svgDefaultProps.fill,\n    borderRadius = svgDefaultProps.borderRadius,\n    borderWidth = svgDefaultProps.borderWidth,\n    borderColor = svgDefaultProps.borderColor,\n\n    annotations = svgDefaultProps.annotations,\n\n    legendLabel,\n    tooltipLabel = svgDefaultProps.tooltipLabel,\n\n    valueFormat,\n\n    isInteractive = svgDefaultProps.isInteractive,\n    tooltip = svgDefaultProps.tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    legends = svgDefaultProps.legends,\n\n    role = svgDefaultProps.role,\n\n    initialHiddenIds,\n}: InnerBarProps<RawDatum>) => {\n    const [hiddenIds, setHiddenIds] = useState(initialHiddenIds ?? [])\n    const toggleSerie = useCallback(id => {\n        setHiddenIds(state =>\n            state.indexOf(id) > -1 ? state.filter(item => item !== id) : [...state, id]\n        )\n    }, [])\n\n    const theme = useTheme()\n    const { animate, config: springConfig } = useMotionConfig()\n    const { outerWidth, outerHeight, margin, innerWidth, innerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const formatValue = useValueFormatter(valueFormat)\n    const getBorderColor = useInheritedColor<ComputedBarDatumWithValue<RawDatum>>(\n        borderColor,\n        theme\n    )\n    const getColor = useOrdinalColorScale(colors, colorBy)\n    const getIndex = usePropertyAccessor(indexBy)\n    const getLabel = usePropertyAccessor(label)\n    const getLabelColor = useInheritedColor<ComputedBarDatumWithValue<RawDatum>>(\n        labelTextColor,\n        theme\n    )\n    const getTooltipLabel = usePropertyAccessor(tooltipLabel)\n\n    const generateBars = groupMode === 'grouped' ? generateGroupedBars : generateStackedBars\n    const result = generateBars({\n        layout,\n        reverse,\n        data,\n        getIndex,\n        keys,\n        minValue,\n        maxValue,\n        width: innerWidth,\n        height: innerHeight,\n        getColor,\n        padding,\n        innerPadding,\n        valueScale,\n        indexScale,\n        hiddenIds,\n        formatValue,\n        getTooltipLabel,\n    })\n\n    const legendData = useMemo(\n        () =>\n            keys.map(key => {\n                const bar = result.bars.find(bar => bar.data.id === key)\n\n                return { ...bar, data: { id: key, ...bar?.data, hidden: hiddenIds.includes(key) } }\n            }),\n        [hiddenIds, keys, result.bars]\n    )\n\n    const barsWithValue = useMemo(\n        () =>\n            result.bars.filter(\n                (bar): bar is ComputedBarDatumWithValue<RawDatum> => bar.data.value !== null\n            ),\n        [result.bars]\n    )\n\n    const transition = useTransition<\n        ComputedBarDatumWithValue<RawDatum>,\n        {\n            borderColor: string\n            color: string\n            height: number\n            labelColor: string\n            labelOpacity: number\n            labelX: number\n            labelY: number\n            opacity: number\n            transform: string\n            width: number\n        }\n    >(barsWithValue, {\n        keys: bar => bar.key,\n        from: bar => ({\n            borderColor: getBorderColor(bar) as string,\n            color: bar.color,\n            height: 0,\n            labelColor: getLabelColor(bar) as string,\n            labelOpacity: 0,\n            labelX: bar.width / 2,\n            labelY: bar.height / 2,\n            transform: `translate(${bar.x}, ${bar.y + bar.height})`,\n            width: bar.width,\n            ...(layout === 'vertical'\n                ? {}\n                : {\n                      height: bar.height,\n                      transform: `translate(${bar.x}, ${bar.y})`,\n                      width: 0,\n                  }),\n        }),\n        enter: bar => ({\n            borderColor: getBorderColor(bar) as string,\n            color: bar.color,\n            height: bar.height,\n            labelColor: getLabelColor(bar) as string,\n            labelOpacity: 1,\n            labelX: bar.width / 2,\n            labelY: bar.height / 2,\n            transform: `translate(${bar.x}, ${bar.y})`,\n            width: bar.width,\n        }),\n        update: bar => ({\n            borderColor: getBorderColor(bar) as string,\n            color: bar.color,\n            height: bar.height,\n            labelColor: getLabelColor(bar) as string,\n            labelOpacity: 1,\n            labelX: bar.width / 2,\n            labelY: bar.height / 2,\n            transform: `translate(${bar.x}, ${bar.y})`,\n            width: bar.width,\n        }),\n        leave: bar => ({\n            borderColor: getBorderColor(bar) as string,\n            color: bar.color,\n            height: 0,\n            labelColor: getLabelColor(bar) as string,\n            labelOpacity: 0,\n            labelX: bar.width / 2,\n            labelY: 0,\n            transform: `translate(${bar.x}, ${bar.y + bar.height})`,\n            width: bar.width,\n            ...(layout === 'vertical'\n                ? {}\n                : {\n                      labelX: 0,\n                      labelY: bar.height / 2,\n                      height: bar.height,\n                      transform: `translate(${bar.x}, ${bar.y})`,\n                      width: 0,\n                  }),\n        }),\n        config: springConfig,\n        immediate: !animate,\n    })\n\n    const shouldRenderLabel = useCallback(\n        ({ width, height }: { height: number; width: number }) => {\n            if (!enableLabel) return false\n            if (labelSkipWidth > 0 && width < labelSkipWidth) return false\n            if (labelSkipHeight > 0 && height < labelSkipHeight) return false\n            return true\n        },\n        [enableLabel, labelSkipHeight, labelSkipWidth]\n    )\n\n    const commonProps = useMemo(\n        () => ({\n            borderRadius,\n            borderWidth,\n            enableLabel,\n            isInteractive,\n            labelSkipWidth,\n            labelSkipHeight,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            getTooltipLabel,\n            tooltip,\n        }),\n        [\n            borderRadius,\n            borderWidth,\n            enableLabel,\n            getTooltipLabel,\n            isInteractive,\n            labelSkipHeight,\n            labelSkipWidth,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            tooltip,\n        ]\n    )\n\n    const boundDefs = bindDefs(defs, result.bars, fill, {\n        dataKey: 'data',\n        targetKey: 'data.fill',\n    })\n\n    const layerById: Record<BarLayerId, ReactNode> = {\n        annotations: null,\n        axes: null,\n        bars: null,\n        grid: null,\n        legends: null,\n        markers: null,\n    }\n\n    if (layers.includes('annotations')) {\n        layerById.annotations = (\n            <BarAnnotations key=\"annotations\" bars={result.bars} annotations={annotations} />\n        )\n    }\n\n    if (layers.includes('axes')) {\n        layerById.axes = (\n            <Axes\n                key=\"axes\"\n                xScale={result.xScale as any}\n                yScale={result.yScale as any}\n                width={innerWidth}\n                height={innerHeight}\n                top={axisTop}\n                right={axisRight}\n                bottom={axisBottom}\n                left={axisLeft}\n            />\n        )\n    }\n\n    if (layers.includes('bars')) {\n        layerById.bars = (\n            <Fragment key=\"bars\">\n                {transition((style, bar) =>\n                    createElement(barComponent, {\n                        ...commonProps,\n                        bar,\n                        style,\n                        shouldRenderLabel: shouldRenderLabel(bar),\n                        label: getLabel(bar.data),\n                    })\n                )}\n            </Fragment>\n        )\n    }\n\n    if (layers.includes('grid')) {\n        layerById.grid = (\n            <Grid\n                key=\"grid\"\n                width={innerWidth}\n                height={innerHeight}\n                xScale={enableGridX ? (result.xScale as any) : null}\n                yScale={enableGridY ? (result.yScale as any) : null}\n                xValues={gridXValues}\n                yValues={gridYValues}\n            />\n        )\n    }\n\n    if (layers.includes('legends')) {\n        const data = ([] as LegendData[]).concat(\n            ...legends.map(legend =>\n                getLegendData({\n                    bars: legend.dataFrom === 'keys' ? legendData : result.bars,\n                    direction: legend.direction,\n                    from: legend.dataFrom,\n                    groupMode,\n                    layout,\n                    legendLabel,\n                    reverse,\n                })\n            )\n        )\n\n        layerById.legends = (\n            <BarLegends\n                key=\"legends\"\n                width={innerWidth}\n                height={innerHeight}\n                data={data}\n                legends={legends}\n                toggleSerie={toggleSerie}\n            />\n        )\n    }\n\n    if (layers.includes('markers')) {\n        layerById.markers = (\n            <CartesianMarkers\n                key=\"markers\"\n                markers={markers}\n                width={innerWidth}\n                height={innerHeight}\n                xScale={result.xScale}\n                yScale={result.yScale}\n                theme={theme}\n            />\n        )\n    }\n\n    // We use `any` here until we can figure out the best way to type xScale/yScale\n    const layerContext: any = useMemo(\n        () => ({\n            ...commonProps,\n            margin,\n            innerWidth,\n            innerHeight,\n            width,\n            height,\n            ...result,\n        }),\n        [commonProps, height, innerHeight, innerWidth, margin, result, width]\n    )\n\n    return (\n        <SvgWrapper\n            width={outerWidth}\n            height={outerHeight}\n            margin={margin}\n            defs={boundDefs}\n            role={role}\n        >\n            {layers.map((layer, i) => {\n                if (typeof layer === 'function') {\n                    return <Fragment key={i}>{createElement(layer, layerContext)}</Fragment>\n                }\n\n                return layerById?.[layer] ?? null\n            })}\n        </SvgWrapper>\n    )\n}\n\nexport const Bar = <RawDatum extends BarDatum>({\n    isInteractive = svgDefaultProps.isInteractive,\n    animate = svgDefaultProps.animate,\n    motionConfig = svgDefaultProps.motionConfig,\n    theme,\n    renderWrapper,\n    ...otherProps\n}: BarSvgProps<RawDatum>) => (\n    <Container\n        {...{\n            animate,\n            isInteractive,\n            motionConfig,\n            renderWrapper,\n            theme,\n        }}\n    >\n        <InnerBar<RawDatum> isInteractive={isInteractive} {...otherProps} />\n    </Container>\n)\n","import {\n    BarCanvasLayer,\n    BarCanvasProps,\n    BarDatum,\n    ComputedBarDatum,\n    ComputedBarDatumWithValue,\n} from './types'\nimport {\n    Container,\n    Margin,\n    getRelativeCursor,\n    isCursorInRect,\n    useDimensions,\n    usePropertyAccessor,\n    useTheme,\n    useValueFormatter,\n} from '@nivo/core'\nimport {\n    ForwardedRef,\n    createElement,\n    forwardRef,\n    useCallback,\n    useEffect,\n    useMemo,\n    useRef,\n} from 'react'\nimport { canvasDefaultProps } from './props'\nimport { generateGroupedBars, generateStackedBars, getLegendData } from './compute'\nimport {\n    renderAnnotationsToCanvas,\n    useAnnotations,\n    useComputedAnnotations,\n} from '@nivo/annotations'\nimport { renderAxesToCanvas, renderGridLinesToCanvas } from '@nivo/axes'\nimport { renderLegendToCanvas } from '@nivo/legends'\nimport { useInheritedColor, useOrdinalColorScale } from '@nivo/colors'\nimport { useTooltip } from '@nivo/tooltip'\n\ndeclare module 'react' {\n    // eslint-disable-next-line @typescript-eslint/ban-types\n    function forwardRef<T, P = {}>(\n        render: (props: P, ref: React.Ref<T>) => React.ReactElement | null\n    ): (props: P & React.RefAttributes<T>) => React.ReactElement | null\n}\n\ntype InnerBarCanvasProps<RawDatum extends BarDatum> = Omit<\n    BarCanvasProps<RawDatum>,\n    'renderWrapper' | 'theme'\n> & {\n    canvasRef: ForwardedRef<HTMLCanvasElement>\n}\n\nconst findBarUnderCursor = <RawDatum,>(\n    nodes: ComputedBarDatum<RawDatum>[],\n    margin: Margin,\n    x: number,\n    y: number\n) =>\n    nodes.find(node =>\n        isCursorInRect(node.x + margin.left, node.y + margin.top, node.width, node.height, x, y)\n    )\n\nconst isNumber = (value: unknown): value is number => typeof value === 'number'\n\nconst InnerBarCanvas = <RawDatum extends BarDatum>({\n    data,\n    indexBy = canvasDefaultProps.indexBy,\n    keys = canvasDefaultProps.keys,\n\n    margin: partialMargin,\n    width,\n    height,\n\n    groupMode = canvasDefaultProps.groupMode,\n    layout = canvasDefaultProps.layout,\n    reverse = canvasDefaultProps.reverse,\n    minValue = canvasDefaultProps.minValue,\n    maxValue = canvasDefaultProps.maxValue,\n\n    valueScale = canvasDefaultProps.valueScale,\n    indexScale = canvasDefaultProps.indexScale,\n\n    padding = canvasDefaultProps.padding,\n    innerPadding = canvasDefaultProps.innerPadding,\n\n    axisTop,\n    axisRight,\n    axisBottom = canvasDefaultProps.axisBottom,\n    axisLeft = canvasDefaultProps.axisLeft,\n    enableGridX = canvasDefaultProps.enableGridX,\n    enableGridY = canvasDefaultProps.enableGridY,\n    gridXValues,\n    gridYValues,\n\n    layers = canvasDefaultProps.layers as BarCanvasLayer<RawDatum>[],\n    renderBar = (\n        ctx,\n        {\n            bar: { color, height, width, x, y },\n\n            borderColor,\n            borderRadius,\n            borderWidth,\n            label,\n            labelColor,\n            shouldRenderLabel,\n        }\n    ) => {\n        ctx.fillStyle = color\n\n        if (borderWidth > 0) {\n            ctx.strokeStyle = borderColor\n            ctx.lineWidth = borderWidth\n        }\n\n        ctx.beginPath()\n\n        if (borderRadius > 0) {\n            const radius = Math.min(borderRadius, height)\n\n            ctx.moveTo(x + radius, y)\n            ctx.lineTo(x + width - radius, y)\n            ctx.quadraticCurveTo(x + width, y, x + width, y + radius)\n            ctx.lineTo(x + width, y + height - radius)\n            ctx.quadraticCurveTo(x + width, y + height, x + width - radius, y + height)\n            ctx.lineTo(x + radius, y + height)\n            ctx.quadraticCurveTo(x, y + height, x, y + height - radius)\n            ctx.lineTo(x, y + radius)\n            ctx.quadraticCurveTo(x, y, x + radius, y)\n            ctx.closePath()\n        } else {\n            ctx.rect(x, y, width, height)\n        }\n\n        ctx.fill()\n\n        if (borderWidth > 0) {\n            ctx.stroke()\n        }\n\n        if (shouldRenderLabel) {\n            ctx.textBaseline = 'middle'\n            ctx.textAlign = 'center'\n            ctx.fillStyle = labelColor\n            ctx.fillText(label, x + width / 2, y + height / 2)\n        }\n    },\n\n    enableLabel = canvasDefaultProps.enableLabel,\n    label = canvasDefaultProps.label,\n    labelSkipWidth = canvasDefaultProps.labelSkipWidth,\n    labelSkipHeight = canvasDefaultProps.labelSkipHeight,\n    labelTextColor = canvasDefaultProps.labelTextColor,\n\n    colorBy = canvasDefaultProps.colorBy,\n    colors = canvasDefaultProps.colors,\n    borderRadius = canvasDefaultProps.borderRadius,\n    borderWidth = canvasDefaultProps.borderWidth,\n    borderColor = canvasDefaultProps.borderColor,\n\n    annotations = canvasDefaultProps.annotations,\n\n    legendLabel,\n    tooltipLabel = canvasDefaultProps.tooltipLabel,\n\n    valueFormat,\n\n    isInteractive = canvasDefaultProps.isInteractive,\n    tooltip = canvasDefaultProps.tooltip,\n    onClick,\n    onMouseEnter,\n    onMouseLeave,\n\n    legends = canvasDefaultProps.legends,\n\n    pixelRatio = canvasDefaultProps.pixelRatio,\n\n    canvasRef,\n}: InnerBarCanvasProps<RawDatum>) => {\n    const canvasEl = useRef<HTMLCanvasElement | null>(null)\n\n    const theme = useTheme()\n    const { margin, innerWidth, innerHeight, outerWidth, outerHeight } = useDimensions(\n        width,\n        height,\n        partialMargin\n    )\n\n    const { showTooltipFromEvent, hideTooltip } = useTooltip()\n\n    const formatValue = useValueFormatter(valueFormat)\n    const getBorderColor = useInheritedColor<ComputedBarDatumWithValue<RawDatum>>(\n        borderColor,\n        theme\n    )\n    const getColor = useOrdinalColorScale(colors, colorBy)\n    const getIndex = usePropertyAccessor(indexBy)\n    const getLabel = usePropertyAccessor(label)\n    const getLabelColor = useInheritedColor<ComputedBarDatumWithValue<RawDatum>>(\n        labelTextColor,\n        theme\n    )\n    const getTooltipLabel = usePropertyAccessor(tooltipLabel)\n\n    const options = {\n        layout,\n        reverse,\n        data,\n        getIndex,\n        keys,\n        minValue,\n        maxValue,\n        width: innerWidth,\n        height: innerHeight,\n        getColor,\n        padding,\n        innerPadding,\n        valueScale,\n        indexScale,\n        formatValue,\n        getTooltipLabel,\n    }\n\n    const result =\n        groupMode === 'grouped' ? generateGroupedBars(options) : generateStackedBars(options)\n\n    const legendData = useMemo(\n        () =>\n            keys.map(key => {\n                const bar = result.bars.find(bar => bar.data.id === key)\n\n                return { ...bar, data: { id: key, ...bar?.data, hidden: false } }\n            }),\n        [keys, result.bars]\n    )\n\n    const barsWithValue = useMemo(\n        () =>\n            result.bars.filter(\n                (bar): bar is ComputedBarDatumWithValue<RawDatum> => bar.data.value !== null\n            ),\n        [result.bars]\n    )\n\n    const shouldRenderLabel = useCallback(\n        ({ width, height }: { height: number; width: number }) => {\n            if (!enableLabel) return false\n            if (labelSkipWidth > 0 && width < labelSkipWidth) return false\n            if (labelSkipHeight > 0 && height < labelSkipHeight) return false\n            return true\n        },\n        [enableLabel, labelSkipHeight, labelSkipWidth]\n    )\n\n    // Using any because return type isn't correct\n    const boundAnnotations: any = useComputedAnnotations({\n        annotations: useAnnotations({\n            data: result.bars,\n            annotations,\n            getPosition: node => ({\n                x: node.x,\n                y: node.y,\n            }),\n            getDimensions: ({ width, height }) => ({\n                width,\n                height,\n                size: Math.max(width, height),\n            }),\n        }),\n    })\n\n    // We use `any` here until we can figure out the best way to type xScale/yScale\n    const layerContext: any = useMemo(\n        () => ({\n            borderRadius,\n            borderWidth,\n            enableLabel,\n            isInteractive,\n            labelSkipWidth,\n            labelSkipHeight,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            getTooltipLabel,\n            tooltip,\n            margin,\n            innerWidth,\n            innerHeight,\n            width,\n            height,\n            ...result,\n        }),\n        [\n            borderRadius,\n            borderWidth,\n            enableLabel,\n            getTooltipLabel,\n            height,\n            innerHeight,\n            innerWidth,\n            isInteractive,\n            labelSkipHeight,\n            labelSkipWidth,\n            margin,\n            onClick,\n            onMouseEnter,\n            onMouseLeave,\n            result,\n            tooltip,\n            width,\n        ]\n    )\n\n    useEffect(() => {\n        const ctx = canvasEl.current?.getContext('2d')\n\n        if (!canvasEl.current) return\n        if (!ctx) return\n\n        canvasEl.current.width = outerWidth * pixelRatio\n        canvasEl.current.height = outerHeight * pixelRatio\n\n        ctx.scale(pixelRatio, pixelRatio)\n\n        ctx.fillStyle = theme.background\n        ctx.fillRect(0, 0, outerWidth, outerHeight)\n        ctx.translate(margin.left, margin.top)\n\n        layers.forEach(layer => {\n            if (layer === 'grid') {\n                if (isNumber(theme.grid.line.strokeWidth) && theme.grid.line.strokeWidth > 0) {\n                    ctx.lineWidth = theme.grid.line.strokeWidth\n                    ctx.strokeStyle = theme.grid.line.stroke as string\n\n                    if (enableGridX) {\n                        renderGridLinesToCanvas<string | number>(ctx, {\n                            width,\n                            height,\n                            scale: result.xScale as any,\n                            axis: 'x',\n                            values: gridXValues,\n                        })\n                    }\n\n                    if (enableGridY) {\n                        renderGridLinesToCanvas<string | number>(ctx, {\n                            width,\n                            height,\n                            scale: result.yScale as any,\n                            axis: 'y',\n                            values: gridYValues,\n                        })\n                    }\n                }\n            } else if (layer === 'axes') {\n                renderAxesToCanvas(ctx, {\n                    xScale: result.xScale as any,\n                    yScale: result.yScale as any,\n                    width: innerWidth,\n                    height: innerHeight,\n                    top: axisTop,\n                    right: axisRight,\n                    bottom: axisBottom,\n                    left: axisLeft,\n                    theme,\n                })\n            } else if (layer === 'bars') {\n                barsWithValue.forEach(bar => {\n                    renderBar(ctx, {\n                        bar,\n                        borderColor: getBorderColor(bar) as string,\n                        borderRadius,\n                        borderWidth,\n                        label: getLabel(bar.data),\n                        labelColor: getLabelColor(bar) as string,\n                        shouldRenderLabel: shouldRenderLabel(bar),\n                    })\n                })\n            } else if (layer === 'legends') {\n                legends.forEach(legend => {\n                    const data = getLegendData({\n                        bars: legendData,\n                        direction: legend.direction,\n                        from: legend.dataFrom,\n                        groupMode,\n                        layout,\n                        legendLabel,\n                        reverse,\n                    })\n\n                    renderLegendToCanvas(ctx, {\n                        ...legend,\n                        data,\n                        containerWidth: innerWidth,\n                        containerHeight: innerHeight,\n                        theme,\n                    })\n                })\n            } else if (layer === 'annotations') {\n                renderAnnotationsToCanvas(ctx, { annotations: boundAnnotations, theme })\n            } else if (typeof layer === 'function') {\n                layer(ctx, layerContext)\n            }\n        })\n\n        ctx.save()\n    }, [\n        axisBottom,\n        axisLeft,\n        axisRight,\n        axisTop,\n        barsWithValue,\n        borderRadius,\n        borderWidth,\n        boundAnnotations,\n        enableGridX,\n        enableGridY,\n        getBorderColor,\n        getLabel,\n        getLabelColor,\n        gridXValues,\n        gridYValues,\n        groupMode,\n        height,\n        innerHeight,\n        innerWidth,\n        layerContext,\n        layers,\n        layout,\n        legendData,\n        legendLabel,\n        legends,\n        margin.left,\n        margin.top,\n        outerHeight,\n        outerWidth,\n        pixelRatio,\n        renderBar,\n        result.xScale,\n        result.yScale,\n        reverse,\n        shouldRenderLabel,\n        theme,\n        width,\n    ])\n\n    const handleMouseHover = useCallback(\n        (event: React.MouseEvent<HTMLCanvasElement>) => {\n            if (!result.bars) return\n            if (!canvasEl.current) return\n\n            const [x, y] = getRelativeCursor(canvasEl.current, event)\n            const bar = findBarUnderCursor(result.bars, margin, x, y)\n\n            if (bar !== undefined) {\n                showTooltipFromEvent(\n                    createElement(tooltip, {\n                        ...bar.data,\n                        color: bar.color,\n                        label: bar.label,\n                        value: Number(bar.data.value),\n                    }),\n                    event\n                )\n\n                if (event.type === 'mouseenter') {\n                    onMouseEnter?.(bar.data, event)\n                }\n            } else {\n                hideTooltip()\n            }\n        },\n        [hideTooltip, margin, onMouseEnter, result.bars, showTooltipFromEvent, tooltip]\n    )\n\n    const handleMouseLeave = useCallback(\n        (event: React.MouseEvent<HTMLCanvasElement>) => {\n            if (!result.bars) return\n            if (!canvasEl.current) return\n\n            hideTooltip()\n\n            const [x, y] = getRelativeCursor(canvasEl.current, event)\n            const bar = findBarUnderCursor(result.bars, margin, x, y)\n\n            if (bar) {\n                onMouseLeave?.(bar.data, event)\n            }\n        },\n        [hideTooltip, margin, onMouseLeave, result.bars]\n    )\n\n    const handleClick = useCallback(\n        (event: React.MouseEvent<HTMLCanvasElement>) => {\n            if (!result.bars) return\n            if (!canvasEl.current) return\n\n            const [x, y] = getRelativeCursor(canvasEl.current, event)\n            const bar = findBarUnderCursor(result.bars, margin, x, y)\n\n            if (bar !== undefined) {\n                onClick?.({ ...bar.data, color: bar.color }, event)\n            }\n        },\n        [margin, onClick, result.bars]\n    )\n\n    return (\n        <canvas\n            ref={canvas => {\n                canvasEl.current = canvas\n                if (canvasRef && 'current' in canvasRef) canvasRef.current = canvas\n            }}\n            width={outerWidth * pixelRatio}\n            height={outerHeight * pixelRatio}\n            style={{\n                width: outerWidth,\n                height: outerHeight,\n                cursor: isInteractive ? 'auto' : 'normal',\n            }}\n            onMouseEnter={isInteractive ? handleMouseHover : undefined}\n            onMouseMove={isInteractive ? handleMouseHover : undefined}\n            onMouseLeave={isInteractive ? handleMouseLeave : undefined}\n            onClick={isInteractive ? handleClick : undefined}\n        />\n    )\n}\n\nexport const BarCanvas = forwardRef(\n    <RawDatum extends BarDatum>(\n        { isInteractive, renderWrapper, theme, ...props }: BarCanvasProps<RawDatum>,\n        ref: ForwardedRef<HTMLCanvasElement>\n    ) => (\n        <Container {...{ isInteractive, renderWrapper, theme }} animate={false}>\n            <InnerBarCanvas {...props} canvasRef={ref} />\n        </Container>\n    )\n)\n","import { Bar } from './Bar'\nimport { BarDatum, BarSvgProps } from './types'\nimport { ResponsiveWrapper } from '@nivo/core'\n\nexport const ResponsiveBar = <RawDatum extends BarDatum>(\n    props: Omit<BarSvgProps<RawDatum>, 'height' | 'width'>\n) => (\n    <ResponsiveWrapper>\n        {({ width, height }) => <Bar width={width} height={height} {...props} />}\n    </ResponsiveWrapper>\n)\n","import { BarDatum, BarCanvasProps } from './types'\nimport { BarCanvas } from './BarCanvas'\nimport { ForwardedRef, forwardRef } from 'react'\nimport { ResponsiveWrapper } from '@nivo/core'\n\nexport const ResponsiveBarCanvas = forwardRef(function ResponsiveBarCanvas<\n    RawDatum extends BarDatum\n>(props: Omit<BarCanvasProps<RawDatum>, 'height' | 'width'>, ref: ForwardedRef<HTMLCanvasElement>) {\n    return (\n        <ResponsiveWrapper>\n            {({ width, height }) => (\n                <BarCanvas width={width} height={height} {...props} ref={ref} />\n            )}\n        </ResponsiveWrapper>\n    )\n})\n"]},"metadata":{},"sourceType":"module"}